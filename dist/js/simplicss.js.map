{"version":3,"file":"simplicss.js","sources":["../../js/src/util.js","../../js/src/alert.js","../../js/src/button.js","../../js/src/dropdown.js","../../js/src/tools/sanitizer.js","../../js/src/tooltip.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * simplicss (v4.3.1): util.js\n * Licensed under MIT (https://github.com/twbs/simplicss/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\n\n/**\n * ------------------------------------------------------------------------\n * Private TransitionEnd Helpers\n * ------------------------------------------------------------------------\n */\n\n // transitionendイベント用で変数になってるのはprefixをつけるから？\nconst TRANSITION_END = 'transitionend'\nconst MAX_UID = 1000000\nconst MILLISECONDS_MULTIPLIER = 1000\n\n// Shoutout AngusCroll (https://goo.gl/pxwQGp)\n// オブジェクトの型を判定する\nfunction toType(obj) {\n  return {}.toString.call(obj).match(/\\s([a-z]+)/i)[1].toLowerCase()\n}\n\n//\nfunction getSpecialTransitionEndEvent() {\n  return {\n    bindType: TRANSITION_END,\n    delegateType: TRANSITION_END,\n    handle(event) {\n      if ($(event.target).is(this)) {\n        return event.handleObj.handler.apply(this, arguments) // eslint-disable-line prefer-rest-params\n      }\n      return undefined // eslint-disable-line no-undefined\n    }\n  }\n}\n\n// transitionの遷移時間を引数でもらう\nfunction transitionEndEmulator(duration) {\n  let called = false\n\n  // 呼び出しもとのエレメントでTRANSITION_ENDを実行\n  $(this).one(Util.TRANSITION_END, () => {\n    // コールバックをtrueにする\n    called = true\n  })\n\n  setTimeout(() => {\n    // falseだったらtriggerTransitionEndを実行する\n    if (!called) {\n      Util.triggerTransitionEnd(this)\n    }\n  }, duration) // settimeoutの時間は引数の遷移時間\n  // エレメントを返す\n  return this\n}\n\nfunction setTransitionEndSupport() {\n  // Jqueryのカスタムプラグインを作成\n  $.fn.emulateTransitionEnd = transitionEndEmulator\n  $.event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent()\n}\n\n/**\n * --------------------------------------------------------------------------\n * Public Util Api\n * --------------------------------------------------------------------------\n */\n\nconst Util = {\n\n  TRANSITION_END: 'scTransitionEnd',\n\n  getUID(prefix) {\n    do {\n      // eslint-disable-next-line no-bitwise\n      prefix += ~~(Math.random() * MAX_UID) // \"~~\" acts like a faster Math.floor() here\n    } while (document.getElementById(prefix))\n    return prefix\n  },\n\n  getSelectorFromElement(element) {\n    // 引数elementのdata-target属性の値を取得\n    let selector = element.getAttribute('data-target')\n\n    // data-targetが存在しないか#の場合\n    if (!selector || selector === '#') {\n      // 引数elementのhref属性の値を取得\n      const hrefAttr = element.getAttribute('href')\n      // hrefAttrがあったら#かどうかを判定して、trueならhrefAttrをtrimして返す。falseなら、空文字を入れる\n      // trim: https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/String/trim\n      selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : ''\n    }\n\n    try {\n      // html内のdata-targetもしくはhregで指定されているselectorを返す\n      // data-targetの対象を返す\n      // なかったらnullを返す\n      return document.querySelector(selector) ? selector : null\n    } catch (err) {\n      // エラーになったらnullを返す\n      return null\n    }\n  },\n\n  // 要素から遷移時間を取得\n  getTransitionDurationFromElement(element) {\n    // エレメントがなかったら0を返す\n    if (!element) {\n      return 0\n    }\n\n    // transition-durationとtransition-delayの値を取得\n    let transitionDuration = $(element).css('transition-duration')\n    let transitionDelay = $(element).css('transition-delay')\n\n    // 浮動小数点を取得\n    const floatTransitionDuration = parseFloat(transitionDuration)\n    const floatTransitionDelay = parseFloat(transitionDelay)\n\n    // cssプロパティ、値がなければ0を返す\n    if (!floatTransitionDuration && !floatTransitionDelay) {\n      return 0\n    }\n\n    // 複数値が指定されてたら最初の1つだけ取得する\n    transitionDuration = transitionDuration.split(',')[0]\n    transitionDelay = transitionDelay.split(',')[0]\n\n    // 変化にかかる時間(transitionDuration)と変化が始める時間(transitionDelay)を足して1000をかけて(秒にする)返す\n    return (parseFloat(transitionDuration) + parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER // ×1000する\n  },\n\n  reflow(element) {\n    return element.offsetHeight\n  },\n\n  // 引数エレメントでtrainsition_endイベントを実行する\n  triggerTransitionEnd(element) {\n    $(element).trigger(TRANSITION_END)\n  },\n\n  // TODO: Remove in v5\n  supportsTransitionEnd() {\n    return Boolean(TRANSITION_END)\n  },\n\n  // 引数がdom要素か判定する\n  // 違う場合はundefinedを返す\n  isElement(obj) {\n    return (obj[0] || obj).nodeType\n  },\n\n  // Nameとconfigとdefauly typeでexpectedTypesとvalueTypeが一致しなかったら、エラーを投げる\n  typeCheckConfig(componentName, config, configTypes) {\n    // default typeの分だけループ\n    // dropdownだとoffset、flipなどなど\n    for (const property in configTypes) {\n      // Object.prototype.hasOwnPropertyはオブジェクトにpropertyがあるか判定する\n      // offsetプロパティが、configTypesにあるか\n      if (Object.prototype.hasOwnProperty.call(configTypes, property)) {\n        // configTypesからプロパティの値を取得\n        const expectedTypes = configTypes[property]\n        // configの中からpropertyの値を取得\n        const value = config[property]\n        // valueが存在してdom要素だった場合はelementを格納\n        // falseの場合は型を判定して格納\n        const valueType = value && Util.isElement(value)\n          ? 'element' : toType(value)\n\n        //  expectedTypesとvalueTypeが一致してない場合\n        if (!new RegExp(expectedTypes).test(valueType)) {\n          // エラーを投げる。エラーが投げられたら処理は終了\n          throw new Error(\n            `${componentName.toUpperCase()}: ` +\n            `Option \"${property}\" provided type \"${valueType}\" ` +\n            `but expected type \"${expectedTypes}\".`)\n        }\n      }\n    }\n  },\n\n  findShadowRoot(element) {\n    if (!document.documentElement.attachShadow) {\n      return null\n    }\n\n    // Can find the shadow root otherwise it'll return the document\n    if (typeof element.getRootNode === 'function') {\n      const root = element.getRootNode()\n      return root instanceof ShadowRoot ? root : null\n    }\n\n    if (element instanceof ShadowRoot) {\n      return element\n    }\n\n    // when we don't find a shadow root\n    if (!element.parentNode) {\n      return null\n    }\n\n    return Util.findShadowRoot(element.parentNode)\n  },\n\n  jQueryDetection() {\n    if (typeof $ === 'undefined') {\n      throw new TypeError('simplicss\\'s JavaScript requires jQuery. jQuery must be included before simplicss\\'s JavaScript.')\n    }\n\n    const version = $.fn.jquery.split(' ')[0].split('.')\n    const minMajor = 1\n    const ltMajor = 2\n    const minMinor = 9\n    const minPatch = 1\n    const maxMajor = 4\n\n    if (version[0] < ltMajor && version[1] < minMinor || version[0] === minMajor && version[1] === minMinor && version[2] < minPatch || version[0] >= maxMajor) {\n      throw new Error('simplicss\\'s JavaScript requires at least jQuery v1.9.1 but less than v4.0.0')\n    }\n  }\n}\n\nUtil.jQueryDetection()\nsetTransitionEndSupport()\n\nexport default Util\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.3.1): alert.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\nconst NAME = 'alert'\nconst VERSION = '0.5.2'\n\nconst DATA_KEY = 'sc.alert'\n// アラート閉じた時のイベントとかに使うみたい\n// http://bootstrap3.cyberlab.info/javascript/alerts-events.html\nconst EVENT_KEY = `.${DATA_KEY}`\n// イベントを無効にする用\n// https://getbootstrap.jp/docs/4.1/getting-started/javascript/\nconst DATA_API_KEY = '.data-api'\n// 他のフレームワークと名前衝突を回避する用\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\n// アラート消す用\nconst Selector = {\n  DISMISS : '[data-dismiss=\"alert\"]'\n}\n\n// イベント用の名前\n// e.g. close.sc.alert\nconst Event = {\n  CLOSE : `close${EVENT_KEY}`,\n  CLOSED : `closed${EVENT_KEY}`,\n  CLICK_DATA_API : `click${EVENT_KEY}${DATA_API_KEY}`\n}\n\n// htmlのクラス名\nconst ClassName = {\n  ALERT : 'alert',\n  FADE  : 'fade',\n  SHOW  : 'show'\n}\n\nclass Alert {\n  constructor(element) {\n    this._element = element\n  }\n\n  // バージョンのゲッター\n  static get VERSION() {\n    return VERSION\n  }\n\n  // public method\n\n  close(element) {\n    // このクラス内のthisはalertクラス\n\n    // コンストラクタで取得したelement\n    let rootElement = this._element\n\n    // closeにelementが引数で渡されていたら\n    if (element) {\n      // div.alertを取得\n      rootElement = this._getRootElement(element)\n    }\n\n    // カスタムイベントを作成\n    const customEvent = this._triggerCloseEvent(rootElement)\n\n    // イベントがブラウザの処理を禁止していた場合は闇に葬り去る\n    // http://www.jquerystudy.info/reference/events/isDefaultPrevented.html\n    if (customEvent.isDefaultPrevented()) {\n      return\n    }\n\n    // showクラスを削除する\n    // fadeクラスがなかった場合、要素を削除する\n    this._removeElement(rootElement)\n  }\n\n  // this._elementを削除するみたい\n  dispose() {\n    $.removeData(this._element, DATA_KEY)\n    this._element = null\n  }\n\n  // private method\n\n  // closeで使ってるやつ\n  _getRootElement(element) {\n    // elementのdata-targetもしくはhrefで指定されているselectorを取得\n    const selector = Util.getSelectorFromElement(element)\n    let parent     = false\n\n    // selectorがあった場合\n    if (selector) {\n      // data-targetもしくはhrefで指定されている要素を取得\n      // 開始タグから終了タグまで持ってくるみたい\n      parent = document.querySelector(selector)\n    }\n\n    // 上のifを通らなかったか通ってもnullが帰ってきた場合\n    if (!parent) {\n      // data-targetもしくはhrefが指定されてないので、一番近い.alertを取得する\n      parent = $(element).closest(`.${ClassName.ALERT}`)[0]\n    }\n\n    return parent\n  }\n\n  // closeで使ってるやつ\n  _triggerCloseEvent(element) {\n    // close.sc.alertイベントを定義\n    const closeEvent = $.Event(Event.CLOSE)\n\n    $(element).trigger(closeEvent) // closeイベントを発生\n    // closeEvent返すんか\n    return closeEvent\n  }\n\n  // closeで使ってるやつ\n  _removeElement(element) {\n    // showクラスを削除\n    $(element).removeClass(ClassName.SHOW)\n\n    // fadeクラスを持ってなかった場合\n    if (!$(element).hasClass(ClassName.FADE)) {\n      // アラートを削除\n      this._destroyElement(element)\n      return // eslint-disable-line no-useless-return\n    }\n\n    // 要素の変化にかかる時間を取得\n    const transitionDuration = Util.getTransitionDurationFromElement(element)\n\n    $(element)\n      // .oneは一回だけ実行するイベント。TRANSITION_ENDはイベント名。\n      // エレメントを削除してclosedイベントを実行する\n      .one(Util.TRANSITION_END, (event) => this._destroyElement(element, event))\n      // util.jsのtransitionEndEmulatorを実行\n      .emulateTransitionEnd(transitionDuration)\n  }\n\n  // _removeElementで使ってるやつ\n  _destroyElement(element) {\n    $(element) // elementを。。。\n      .detach() // elementを隔離\n      .trigger(Event.CLOSED) // closedイベントを発生させる\n      .remove() // element削除\n      // https://qiita.com/BRSF/items/1aa9d154bde497b0baa0#remove%E3%81%AE%E5%A0%B4%E5%90%88\n  }\n\n  // static\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      // elementを格納\n      const $element = $(this)\n      // elementのdata-sc.alert属性を取得\n      let data = $element.data(DATA_KEY)\n\n      // dataがなかったら\n      if (!data) {\n        // アラートをインスタンス化\n        // thisはelement\n        data = new Alert(this)\n        // elementにdata-sc.alertを設定\n        // 中身はdata\n        $element.data(DATA_KEY, data)\n      }\n\n      // configがcloseだったら・・・・\n      if (config === 'close') {\n        // alert.close(element)になる\n        data[config](this)\n      }\n    })\n  }\n\n  static _handleDismiss(alertInstance) {\n    return function (event) {\n      // イベントがあったら\n      if (event) {\n        // イベントの動作を停止させる\n        event.preventDefault()\n      }\n\n      // 引数で受け取ったalertインスタンスのcloseを実行\n      // 引数はhtmlのbutton\n      alertInstance.close(this)\n    }\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Apiの定義\n * ------------------------------------------------------------------------\n */\n\n// ここがブラウザで使う部分みたい\n$(document).on(\n  Event.CLICK_DATA_API, // click.sc.alert.data-api\n  Selector.DISMISS, // [data-dismiss=\"alert\"]\n  Alert._handleDismiss(new Alert()) // staticのやつ実行するんだね\n)\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n// .alertは_jQueryInterface\n$.fn[NAME] = Alert._jQueryInterface\n// .alert.ConstructorはAlert\n$.fn[NAME].Constructor = Alert\n\n// .alert.noConflict\n// 衝突回避用\n$.fn[NAME].noConflict  = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Alert._jQueryInterface\n}\n\n\nexport default Alert\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.3.1): button.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n// aria-pressedは要素が押されている状態\n// .activeはactive状態\n\nimport $ from 'jquery'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME  = 'button'\nconst VERSION = '0.5.2'\nconst DATA_KEY = 'sc.button'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\nconst ClassName = {\n  ACTIVE : 'active',\n  BUTTON : 'btn',\n  FOCUS  : 'focus'\n}\n\nconst Selector = {\n  DATA_TOGGLE_CARROT : '[data-toggle^=\"button\"]',\n  DATA_TOGGLES : '[data-toggle=\"buttons\"]',\n  DATA_TOGGLE : '[data-toggle=\"button\"]',\n  DATA_TOGGLES_BUTTONS : '[data-toggle=\"buttons\"] .btn',\n  INPUT : 'input:not([type=\"hidden\"])',\n  ACTIVE : '.active',\n  BUTTON : '.btn'\n}\n\nconst Event = {\n  CLICK_DATA_API : `click${EVENT_KEY}${DATA_API_KEY}`,\n  FOCUS_BLUR_DATA_API : `focus${EVENT_KEY}${DATA_API_KEY} ` +\n                                          `blur${EVENT_KEY}${DATA_API_KEY}`,\n  LOAD_DATA_API : `load${EVENT_KEY}${DATA_API_KEY}`\n}\n\n/**\n * ------------------------------------------------------------------------\n * クラス\n * ------------------------------------------------------------------------\n */\n\nclass Button {\n  constructor(element) {\n    this._element = element\n  }\n\n   // バージョンのゲッター\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  // toggleメソッド\n  toggle() {\n    let triggerChangeEvent = true\n    let addAriaPressed = true\n    // '[data-toggle=\"buttons\"]'をもつ要素の親要素を取得する\n    const rootElement = $(this._element).closest(\n      Selector.DATA_TOGGLES\n    )[0]\n\n    // rootElementがあったら\n    if (rootElement) {\n      // hiddenじゃないinputを取得する\n      const input = this._element.querySelector(Selector.INPUT)\n\n      // inputがあった場合\n      if (input) {\n        // inputがradioだった場合\n        if (input.type === 'radio') {\n          // .classList.contains(クラス名)が存在するか確認する\n          // radioがチェックされててかつ、.activeクラスが存在する場合。\n          if (input.checked &&\n            this._element.classList.contains(ClassName.ACTIVE)) {\n            // .activeなボタンを押したらfalseにする\n            triggerChangeEvent = false\n          } else {\n            // .activeを持つ要素を取得する。\n            const activeElement = rootElement.querySelector(Selector.ACTIVE)\n\n            // activeElementが存在してたら\n            if (activeElement) {\n              // .activeクラスを削除する\n              $(activeElement).removeClass(ClassName.ACTIVE)\n            }\n          }\n        // inputがcheckboxだったら\n        } else if (input.type === 'checkbox') {\n          // this._elementのタグ名が<label>でかつ、.activeクラスを持っていたら\n          if (this._element.tagName === 'LABEL' && input.checked === this._element.classList.contains(ClassName.ACTIVE)) {\n            triggerChangeEvent = false\n          }\n        } else {\n          // radioもしくはcheckboxじゃない場合、pointless/invalid checkedをinputに追加しちゃあかん\n          triggerChangeEvent = false\n        }\n\n        // .activeクラスを持っていない場合の処理\n        if (triggerChangeEvent) {\n          // アクティブを持っていないか確認\n          input.checked = !this._element.classList.contains(ClassName.ACTIVE)\n          // input要素に対してchangeを発動\n          $(input).trigger('change')\n        }\n\n        // inputにfocusを当てる\n        input.focus()\n        addAriaPressed = false\n      }\n    }\n\n    // buttonがdisabled属性を持ってるまたは、disabledクラスを持っていた場合\n    if (!(this._element.hasAttribute('disabled') || this._element.classList.contains('disabled'))) {\n      // ボタンがinputじゃなかったら\n      if (addAriaPressed) {\n        // .activeがあったらaria-pressed属性にfalseなかったらtrue\n        this._element.setAttribute('aria-pressed',\n          !this._element.classList.contains(ClassName.ACTIVE))\n      }\n\n      // .activeクラスを持ってたら.activeを消す\n      if (triggerChangeEvent) {\n        $(this._element).toggleClass(ClassName.ACTIVE)\n      }\n    }\n  }\n\n    // this._elementを削除するみたい\n  dispose() {\n    $.removeData(this._element, DATA_KEY)\n    this._element = null\n  }\n\n  // Static\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      // elementのdata-sc.buttonを取得\n      let data = $(this).data(DATA_KEY)\n\n\n      // dataがなかったら\n      if (!data) {\n        // buttonをインスタンス化\n        // thisはエレメント\n        data = new Button(this)\n        // thisにdata-sc.alertを設定\n        // 中身はボタンクラス\n        $(this).data(DATA_KEY, data)\n      }\n\n      // configがtoggleだったら\n      if (config === 'toggle') {\n        // button.toggleになる\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\n$(document) // click.sc.alert.data-api'と[data-toggle^=\"button\"]'\n  .on(Event.CLICK_DATA_API, Selector.DATA_TOGGLE_CARROT, (event) => {\n    // イベント対象のelement\n    let button = event.target\n    // イベント対象のelementが.btnを持ってたら\n    if (!$(button).hasClass(ClassName.BUTTON)) {\n      // .btnを持つ要素を取得する\n      button = $(button).closest(Selector.BUTTON)[0]\n    }\n\n    // ボタンがない、ボタンがdisable属性またはクラスを持つ場合\n    if (!button || button.hasAttribute('disabled') || button.classList.contains('disabled')) {\n      // イベントを禁止にする\n      event.preventDefault() // firefoxのバグで指定しないとだめみたい\n    } else {\n      // hidden以外のinputボタンを取得\n      const inputBtn = button.querySelector(Selector.INPUT)\n      // inputボタンが存在してdisabled属性またはクラスを持ってたら\n      if (inputBtn && (inputBtn.hasAttribute('disabled') || inputBtn.classList.contains('disabled'))) {\n        // イベントを禁止にする\n        event.preventDefault() // firefoxのバグで指定しないとだめみたい\n        return\n      }\n      // ここわかりやすい\n      // https://qiita.com/Chrowa3/items/b3e2961c4930abc1369b\n      Button._jQueryInterface.call($(button), 'toggle')\n    }\n  }) // focus.sc.alert.data-api +  blur.sc.alert.data-api'と[data-toggle^=\"button\"]'\n  .on(Event.FOCUS_BLUR_DATA_API, Selector.DATA_TOGGLE_CARROT, (event) => {\n    // button要素を取得する\n    const button = $(event.target).closest(Selector.BUTTON)[0]\n    // button要素に対して、fucusクラスをつける\n    // event,typeがfocusinならtrue、違うならfalse\n    // trueなら絶対クラスを付与、falseなら削除\n    $(button).toggleClass(ClassName.FOCUS, /^focus(in)?$/.test(event.type))\n  })\n\n  // load.sc.alert.data-api'\n$(window).on(Event.LOAD_DATA_API, () => {\n  // windowsロード時にボタンの状態を見て.activeを追加する\n  // checkとかになってないのに.activeがついてたら削除する\n\n  // data-toggle内のcheckboxとradioを見つける\n  //  '[data-toggle=\"buttons\"]をもつ .btn要素を全て取得する\n  let buttons = [].slice.call(document.querySelectorAll(Selector.DATA_TOGGLES_BUTTONS))\n  // buttonsの数だけループ回すよ\n  for (let i = 0, len = buttons.length; i < len; i++) {\n    // ボタンのi番目\n    const button = buttons[i]\n    // hidden以外のinputを取得\n    const input = button.querySelector(Selector.INPUT)\n    // inputがcheckされているか、checked属性を持っている場合\n    if (input.checked || input.hasAttribute('checked')) {\n      // .activeを追加する\n      button.classList.add(ClassName.ACTIVE)\n    } else {\n      // check状態じゃなかったら削除\n      button.classList.remove(ClassName.ACTIVE)\n    }\n  }\n\n  //  全ての[data-toggle=\"button\"]を取得する\n  buttons = [].slice.call(document.querySelectorAll(Selector.DATA_TOGGLE))\n  for (let i = 0, len = buttons.length; i < len; i++) {\n    const button = buttons[i]\n    // aria-pressedにtrueが指定されていたら\n    if (button.getAttribute('aria-pressed') === 'true') {\n      button.classList.add(ClassName.ACTIVE)\n    } else {\n      button.classList.remove(ClassName.ACTIVE)\n    }\n  }\n})\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Button._jQueryInterface\n$.fn[NAME].Constructor = Button\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Button._jQueryInterface\n}\n\nexport default Button\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.4.1): dropdown.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Popper from 'popper.js'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'dropdown'\nconst VERSION = '0.5.2'\nconst DATA_KEY = 'sc.dropdown'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\nconst ESCAPE_KEYCODE = 27 // Escキー\nconst SPACE_KEYCODE = 32 // スペースキー\nconst TAB_KEYCODE = 9 // タブキー\nconst ARROW_UP_KEYCODE = 38 // ↑キー\nconst ARROW_DOWN_KEYCODE = 40 // ↓キー\nconst RIGHT_MOUSE_BUTTON_WHICH = 3 // マウスの右クリック\n// 正規表現オブジェクト作成\nconst REGEXP_KEYDOWN = new RegExp(`${ARROW_UP_KEYCODE}|${ARROW_DOWN_KEYCODE}|${ESCAPE_KEYCODE}`)\n\nconst Event = {\n  HIDE : `hide${EVENT_KEY}`,\n  HIDDEN : `hidden${EVENT_KEY}`,\n  SHOW : `show${EVENT_KEY}`,\n  SHOWN: `shown${EVENT_KEY}`,\n  CLICK : `click${EVENT_KEY}`,\n  CLICK_DATA_API : `click${EVENT_KEY}${DATA_API_KEY}`,\n  KEYDOWN_DATA_API : `keydown${EVENT_KEY}${DATA_API_KEY}`,\n  KEYUP_DATA_API : `keyup${EVENT_KEY}${DATA_API_KEY}`\n}\n\nconst ClassName = {\n  DISABLED : 'disabled',\n  SHOW : 'show',\n  DROPUP : 'dropup',\n  DROPRIGHT : 'dropright',\n  DROPLEFT : 'dropleft',\n  MENURIGHT : 'dropdown-menu-right',\n  MENULEFT : 'dropdown-menu-left',\n  POSITION_STATIC : 'position-static'\n}\n\nconst Selector = {\n  DATA_TOGGLE : '[data-toggle=\"dropdown\"]',\n  FORM_CHILD : '.dropdown form',\n  MENU : '.dropdown-menu',\n  NAVBAR_NAV : '.navbar-nav',\n  VISIBLE_ITEMS : '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)'\n}\n\nconst AttachmentMap = {\n  TOP : 'top-start',\n  TOPEND : 'top-end',\n  BOTTOM : 'bottom-start',\n  BOTTOMEND : 'bottom-end',\n  RIGHT : 'right-start',\n  RIGHTEND : 'right-end',\n  LEFT : 'left-start',\n  LEFTEND : 'left-end'\n}\n\nconst Default = {\n  offset : 0,\n  flip : true,\n  boundary : 'scrollParent',\n  reference : 'toggle',\n  display : 'dynamic',\n  popperConfig : null\n}\n\nconst DefaultType = {\n  offset : '(number|string|function)',\n  flip : 'boolean',\n  boundary : '(string|element)',\n  reference : '(string|element)',\n  display : 'string',\n  popperConfig : '(null|object)'\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class\n * ------------------------------------------------------------------------\n */\n\nclass Dropdown {\n  // button.dropdown-toggleと、configがobjectならobject、違うならnull\n  constructor(element, config) {\n    this._element = element\n    this._popper = null\n    // configを取得\n    this._config = this._getConfig(config)\n    // .dropdown-menuを取得\n    this._menu = this._getMenuElement()\n    // dropdownがnavbarに内包されているか確認\n    this._inNavbar = this._detectNavbar()\n    // クリックイベントの設定（ここでtoggleも登録）\n    this._addEventListeners()\n  }\n\n    // Getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    static get Default() {\n      return Default\n    }\n\n    static get DefaultType() {\n      return DefaultType\n    }\n\n    toggle() {\n      // エレメントがdisable属性もしくはclassを持ってたら処理終了\n      if (this._element.disabled || $(this._element).hasClass(ClassName.DISABLED)) {\n        return\n      }\n\n      // メニューが.showを持ってるか判定\n      const isActive = $(this._menu).hasClass(ClassName.SHOW)\n\n      // メニューを閉じる\n      Dropdown._clearMenus()\n\n      // .showを持ってたらshowする必要ないので処理終了\n      if (isActive) {\n        return\n      }\n\n      // 下のshowを発動。popperは使う\n      this.show(true)\n    }\n\n    show(usePopper = false) {\n      // dropdownもしくはメニューがdisableになってたら処理終了\n      if (this._element.disabled || $(this._element).hasClass(ClassName.DISABLED) || $(this._menu).hasClass(ClassName.SHOW)) {\n        return\n      }\n\n      // .dropdown-toggleをrelatedTargetに入れる\n      const relatedTarget = {\n        relatedTarget: this._element\n      }\n\n      // show.sc.dropdownイベントを定義して、relatedTargetを渡す\n      const showEvent = $.Event(Event.SHOW, relatedTarget)\n\n      // エレメントの親要素を取得\n      // .dropdown\n      const parent = Dropdown._getParentFromElement(this._element)\n\n      // parentに対してshoweventを発動する\n      $(parent).trigger(showEvent)\n\n      // ブラウザの処理を禁止してたら処理終了\n      if (showEvent.isDefaultPrevented()) {\n        return\n      }\n\n    // navに入ってない状態でusepopperが使われる時\n    if (!this._inNavbar && usePopper) {\n      /**\n       * Check for Popper dependency\n       * Popper - https://popper.js.org\n       */\n      // popperが読み込まれているか確認\n      if (typeof Popper === 'undefined') {\n        throw new TypeError('Simplicss\\'s dropdowns require Popper.js (https://popper.js.org/)')\n      }\n\n      // .data-toggle要素を格納\n      let referenceElement = this._element\n\n      // this._configはDefault\n      // parentだったら\n      if (this._config.reference === 'parent') {\n        // this._elementの親要素を格納する\n        referenceElement = parent\n      } else if (Util.isElement(this._config.reference)) {\n        // this._config.referenceがdom要素だったら\n        // this._config.referenceを突っ込む\n        referenceElement = this._config.reference\n\n        // jquery要素か確認する\n        if (typeof this._config.reference.jquery !== 'undefined') {\n          referenceElement = this._config.reference[0]\n        }\n      }\n      // boundaryがscrollParentじゃない場合は、位置をstaticに設定してメニューが親をエスケープ出来るようにする\n      if (this._config.boundary !== 'scrollParent') {\n        // parentに.position-staticを追加\n        $(parent).addClass(ClassName.POSITION_STATIC)\n      }\n      // popperをインスタンス化\n      // referenceElementはdata-toggle、this._menuはメニュー、this._getPopperConfig()はpopperのコンフィグ\n      // ちなみにここでdropdownメニューを表示している\n      this._popper = new Popper(referenceElement, this._menu, this._getPopperConfig())\n    }\n\n    // タッチデバイスの場合、空のマウスオーバリスナーを追加\n    if ('ontouchstart' in document.documentElement &&\n        $(parent).closest(Selector.NAVBAR_NAV).length === 0) {\n      $(document.body).children().on('mouseover', null, $.noop)\n    }\n\n    // フォーカスさせる。キーイベントのため？\n    this._element.focus()\n    // showのときはaria-expanded属性を付与してtrueを設定する\n    this._element.setAttribute('aria-expanded', true)\n\n    // menuの.showを切り替える\n    $(this._menu).toggleClass(ClassName.SHOW)\n    // parentの.showを切り替えて、表示後のイベントをrelatedTargerに対して発動する\n    $(parent)\n      .toggleClass(ClassName.SHOW)\n      .trigger($.Event(Event.SHOWN, relatedTarget))\n  }\n\n  hide() {\n    // disableクラス、属性も持っていた場合と、メニューがshowを持っていた場合は処理を終了させる\n    if (this._element.disabled || $(this._element).hasClass(ClassName.DISABLED) || !$(this._menu).hasClass(ClassName.SHOW)) {\n      return\n    }\n    // this._elementをターゲットにする\n    const relatedTarget = {\n      relatedTarget: this._element\n    }\n    // ターゲットに対してhideイベントを定義する\n    const hideEvent = $.Event(Event.HIDE, relatedTarget)\n    // .dropdownを取得する\n    const parent = Dropdown._getParentFromElement(this._element)\n\n    // 親要素に対してhideイベントを実行する\n    $(parent).trigger(hideEvent)\n\n    // hideイベントがブラウザの動作を止めていたら処理を終了する\n    if (hideEvent.isDefaultPrevented()) {\n      return\n    }\n\n    // popperがあった場合は、削除する\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    // this._menuのshowクラスを切り替える\n    $(this._menu).toggleClass(ClassName.SHOW)\n    // 親要素に対して、showクラスを切り替えて、hiddenイベントを発動する\n    $(parent)\n      .toggleClass(ClassName.SHOW)\n      .trigger($.Event(Event.HIDDEN, relatedTarget))\n  }\n\n  dispose() {\n    // this_elementのdata-apiを削除する\n    $.removeData(this._element, DATA_KEY)\n    // this_elementのイベントを削除\n    $(this._element).off(EVENT_KEY)\n    this._element = null\n    this._menu = null\n    // popperがnullじゃなかったら、削除してnullにする\n    if (this._popper !== null) {\n      this._popper.destroy()\n      this._popper = null\n    }\n  }\n\n  update() {\n    // dropdownがnavbarにあるか確認\n    this._inNavbar = this._detectNavbar()\n    // popperがnullじゃなかったら\n    if (this._popper !== null) {\n      // popper要素の位置を変更\n      this._popper.scheduleUpdate()\n    }\n  }\n\n   // Private\n\n   _addEventListeners() {\n     // this_elementをクリックした時のイベントを定義する\n    $(this._element).on(Event.CLICK, (event) => {\n      // this._elementイベント禁止\n      event.preventDefault()\n      // 親要素のイベントが実行されないようにeventの伝播を禁止する\n      event.stopPropagation()\n      // toggleを発動する\n      this.toggle()\n    })\n  }\n\n  // configを取得\n  // 引数はtoggleだとnullでそうじゃなかったらobject\n  _getConfig(config) {\n    // configにdefaultの設定を$(this._element).data()、configの順に上書きしていく感じ\n    config = {\n      // default\n      ...this.constructor.Default,\n      //  data-toggle=\"dropdown\" data-display=\"static\" を取得してるみたい\n      // dataって単純にdata属性全部取得する\n      ...$(this._element).data(),\n      // 引数のconfig（object用？）\n      ...config\n    }\n\n    Util.typeCheckConfig(\n      // dropdown\n      NAME,\n      // 上で作ったconfigが入ってる\n      config,\n      // default typeがそのまま入ってる\n      this.constructor.DefaultType\n    )\n\n    return config\n  }\n\n  _getMenuElement() {\n    // this._menuが存在しなかった場合\n    if (!this._menu) {\n      // this._elementの親要素を返す。div.dropdownとかbtn-groupとか\n      const parent = Dropdown._getParentFromElement(this._element)\n\n      // parentが存在していた場合\n      if (parent) {\n        // parentの中から.dropdown-menuを取得してthis._menuに格納する\n        this._menu = parent.querySelector(Selector.MENU)\n      }\n    }\n\n    // this._menuが存在してたらそのまま返す。\n    // 存在してなかったら、取得して返す\n    return this._menu\n  }\n\n  _getPlacement() {\n    // this.elementの親要素を取得（.dropdown）\n    const $parentDropdown = $(this._element.parentNode)\n    // bottom-startを格納。初期値\n    let placement = AttachmentMap.BOTTOM\n\n    // dropupを持ってたら\n    if ($parentDropdown.hasClass(ClassName.DROPUP)) {\n      // top-startを格納\n      placement = AttachmentMap.TOP\n      // メニューがdropdown-menu-rightを持っていた場合\n      if ($(this._menu).hasClass(ClassName.MENURIGHT)) {\n        // top-endを格納\n        placement = AttachmentMap.TOPEND\n      }\n    // droprightを持っていた場合\n    } else if ($parentDropdown.hasClass(ClassName.DROPRIGHT)) {\n      // right-startを格納\n      placement = AttachmentMap.RIGHT\n    // dropleftを持っていた場合\n    } else if ($parentDropdown.hasClass(ClassName.DROPLEFT)) {\n      // left-startを格納\n      placement = AttachmentMap.LEFT\n    // dropdown-menu-rightを持っていた場合\n    } else if ($(this._menu).hasClass(ClassName.MENURIGHT)) {\n      // bottom-endを格納\n      placement = AttachmentMap.BOTTOMEND\n    }\n    return placement\n  }\n\n  _detectNavbar() {\n    // .navbar要素にdropdownが存在していないか確認\n    return $(this._element).closest('.navbar').length > 0\n  }\n\n  _getOffset() {\n    const offset = {}\n    // this._config.offsetが関数だったら\n    if (typeof this._config.offset === 'function') {\n      // dataはpopperみたい\n      offset.fn = (data) => {\n        // data.offsetに展開して格納\n        data.offsets = {\n          ...data.offsets,\n          ...this._config.offset(data.offsets, this._element) || {}\n        }\n\n        return data\n      }\n    } else {\n      // offsetにthis._config.offsetを入れる\n      offset.offset = this._config.offset\n    }\n\n    return offset\n  }\n\n  _getPopperConfig() {\n    // popperの設定を定義\n    const popperConfig = {\n      // 表示位置\n      placement: this._getPlacement(),\n      // offsetを更新するためのリスト\n      modifiers: {\n        // offset\n        offset: this._getOffset(),\n        // popperの表示を反転する\n        flip: {\n          enabled: this._config.flip\n        },\n        // flipを動作させるためにpreventOverflowが必要\n        preventOverflow: {\n          boundariesElement: this._config.boundary\n        }\n      }\n    }\n\n    // this._config.displayがstaticの場合は、popperを無効化する\n    if (this._config.display === 'static') {\n      popperConfig.modifiers.applyStyle = {\n        enabled: false\n      }\n    }\n\n    return {\n      // popperの設定を展開して返す\n      ...popperConfig,\n      ...this._config.popperConfig\n    }\n  }\n\n  // Static\n\n  // callの通り、configはtoggle\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      // こんな感じで使わないとdataには入らない\n      // $('.dropdown-toggle').data('sc.dropdown', '')\n      let data = $(this).data(DATA_KEY)\n      // configはtoggleの場合はnullになる。\n      const _config = typeof config === 'object' ? config : null\n      if (!data) {\n        // thisはdropdown-toggle(button)\n        // つまりelement\n        data = new Dropdown(this, _config)\n        // elementにsc.dropdownでdataをセットする\n        $(this).data(DATA_KEY, data)\n      }\n\n      // toggleの場合はstring\n      if (typeof config === 'string') {\n        // dataのtoggleを指してるみたい\n        if (typeof data[config] === 'undefined') {\n          // toggleメソッドがなかったらスロー\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n        // toggle関数を発動する\n        data[config]()\n      }\n    })\n  }\n\n  static _clearMenus(event) {\n    // イベントが存在していてかつ、イベントがマウスの右クリックまたはキーを離した、またはタブキーじゃないものを押下した場合\n    if (event && (event.which === RIGHT_MOUSE_BUTTON_WHICH ||\n      event.type === 'keyup' && event.which !== TAB_KEYCODE)) {\n      // 処理を終了する\n      return\n    }\n\n    //  '[data-toggle=\"dropdown\"]'をもつ .要素を全て取得する\n    const toggles = [].slice.call(document.querySelectorAll(Selector.DATA_TOGGLE))\n\n    // 取得したtogglesの数だけループ回す\n    for (let i = 0, len = toggles.length; i < len; i++) {\n      // togglesの親ノードを取得する\n      const parent = Dropdown._getParentFromElement(toggles[i])\n      // toggle要素のsc.dropdownを取得する\n      // jqueryInterfaceをで設定してdataを取得する（dataはdropdownのコンストラクタで定義した変数）\n      const context = $(toggles[i]).data(DATA_KEY)\n      // 連想配列にtoggleを追加\n      const relatedTarget = {\n        relatedTarget: toggles[i]\n      }\n\n      // イベントが存在してイベントがclickだったら\n      // bottonクリックのロキにイベントが発動してる\n      if (event && event.type === 'click') {\n        // relatedTargetのclickイベントにイベントを追加\n        relatedTarget.clickEvent = event\n      }\n\n      // sc.dropdownが存在していたら\n      if (!context) {\n        // 更新式に行く\n        // つまり、クリックされてないものはcontextがないので、更新式に飛ばされて次のボタンの判定に入る\n        continue\n      }\n\n      // contextのmenuをdropdownmenuに代入\n      const dropdownMenu = context._menu\n\n      // parentがshowクラスを持っていなかったら\n      if (!$(parent).hasClass(ClassName.SHOW)) {\n        // メニューが開いていないので、更新式に行く\n        continue\n      }\n\n      // イベントが存在してるのが前提\n      // イベントがclickで、イベントのターゲットタグがinputもしくはtextareaまたは、イベントがキーを離してイベントキーがタブ以外でparentの中にイベントのターゲット要素が含まれている場合\n      // /input|textarea/i.test(event.target.tagName) はmenu-itemがinputかtextareaの場合はtrue\n      if (event && (event.type === 'click' &&\n          /input|textarea/i.test(event.target.tagName) || event.type === 'keyup' && event.which === TAB_KEYCODE) &&\n          $.contains(parent, event.target)) { // parentにevent.targetが含まれているか。つまりparentのdropdownにクリックしたメニューが含まれているか\n        // つまりmenuを閉じなくてもいいイベントの場合はメニューを閉じる処理しませんよってことみたい\n        // 更新式に行く\n        continue\n      }\n\n      // hideイベントオブジェクトを定義する。\n      // relatedTargetはイベント発生時に実行する関数に渡す値(data-toggle=\"dropdown\"を持つ要素)\n      // http://www.jquerystudy.info/reference/events/event.html\n      const hideEvent = $.Event(Event.HIDE, relatedTarget)\n      // parent要素に対して、hideEventを発生去せる\n      // parentは.dropdown\n      $(parent).trigger(hideEvent)\n      // hideがブラウザの動作を停止していたら\n      if (hideEvent.isDefaultPrevented()) {\n        // 利用ユーザが特定の要素に対してe.preventDefault()みたいなのを書いたら処理をしない\n        // 更新式に行く\n        continue\n      }\n\n      // タッチデバイスだった場合、iOS用のマウスオーバリスナーを削除\n      if ('ontouchstart' in document.documentElement) {\n        $(document.body).children().off('mouseover', null, $.noop)\n      }\n\n      // toggleに'aria-expanded=falseを設定\n      toggles[i].setAttribute('aria-expanded', 'false')\n      // contextにpopperがあったら\n      if (context._popper) {\n        // popperインスタンスを削除\n        context._popper.destroy()\n      }\n\n      // .dropdown-menuの.showを削除\n      $(dropdownMenu).removeClass(ClassName.SHOW)\n      // parentの.showを削除してhiddenイベントを定義しつつ発動\n      // parentは.dropdown\n      $(parent)\n        .removeClass(ClassName.SHOW)\n        .trigger($.Event(Event.HIDDEN, relatedTarget))\n    }\n  }\n\n  static _getParentFromElement(element) {\n    // elementがボタンの要素全部になってる\n    let parent\n    // data-targetがないのでnullです。\n    const selector = Util.getSelectorFromElement(element)\n\n    // selectorが存在した場合\n    if (selector) {\n      // documentからselectorの要素を取得する\n      parent = document.querySelector(selector)\n    }\n\n    // parentが存在していたらparentを返す\n    // そうでなければ、elementのparentNodeで返す\n    // parentNodeは親ノード\n    return parent || element.parentNode\n  }\n\n  // eslint-disable-next-line complexity\n  static _dataApiKeydownHandler(event) {\n    // inputとtextareaの場合は、dropdownのコマンドを無効化する\n    if (/input|textarea/i.test(event.target.tagName)\n      ? event.which === SPACE_KEYCODE || event.which !== ESCAPE_KEYCODE &&\n      (event.which !== ARROW_DOWN_KEYCODE && event.which !== ARROW_UP_KEYCODE ||\n        $(event.target).closest(Selector.MENU).length) : !REGEXP_KEYDOWN.test(event.which)) {\n      return\n    }\n\n    // イベントを無効化して、伝藩しないようにする\n    event.preventDefault()\n    event.stopPropagation()\n\n    // disable属性または、disableクラスを持っていた場合、処理を終了する\n    if (this.disabled || $(this).hasClass(ClassName.DISABLED)) {\n      return\n    }\n\n    // dropdownの親要素を取得する\n    const parent   = Dropdown._getParentFromElement(this)\n    // parentが.showクラスを持っているか判定\n    const isActive = $(parent).hasClass(ClassName.SHOW)\n\n    // isActiveがfalseか、event.whichがエスケープキーだった場合、処理を終了させる\n    if (!isActive && event.which === ESCAPE_KEYCODE) {\n      return\n    }\n\n    // isActiveがfalseまたは、isActiveがtrueかつエスケープキーが押下された場合もしくは、スペースキーが押下された場合\n    if (!isActive || isActive && (event.which === ESCAPE_KEYCODE || event.which === SPACE_KEYCODE)) {\n      // エスキープキーだった場合\n      if (event.which === ESCAPE_KEYCODE) {\n        // parentのdata_toggleを持つ要素を取得\n        const toggle = parent.querySelector(Selector.DATA_TOGGLE)\n        // toggleをフォーカスする\n        $(toggle).trigger('focus')\n      }\n\n      // クリップイベントを発動する\n      $(this).trigger('click')\n      return\n    }\n\n    // disableしてないdropdown-menuとdropdown-itemを取得して、visibleのみを残す\n    const items = [].slice.call(parent.querySelectorAll(Selector.VISIBLE_ITEMS))\n      .filter((item) => $(item).is(':visible'))\n\n    // itemsで取得したものがなかったら処理終了\n    if (items.length === 0) {\n      return\n    }\n\n    // event.targetが何番目か取得する\n    let index = items.indexOf(event.target)\n\n    // 上キーが押されていて、indexが0よりおおきかったら\n    if (event.which === ARROW_UP_KEYCODE && index > 0) {\n      // indexを-1する\n      index--\n    }\n\n    // 下キーが押されていて、indexがindexの長さ-1より小さかったら\n    if (event.which === ARROW_DOWN_KEYCODE && index < items.length - 1) {\n      // indexを＋1する\n      index++\n    }\n\n      // indexが0より小さかったら\n    if (index < 0) {\n      // indexを0にする\n      index = 0\n    }\n\n    // drop-down-itemのindex番目をfucusする\n    items[index].focus()\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\n$(document)\n  // data-toggle=\"dropdown\"のキーイベントを登録\n  .on(Event.KEYDOWN_DATA_API, Selector.DATA_TOGGLE, Dropdown._dataApiKeydownHandler)\n  // .dropdown-menuのキーイベントを登録\n  .on(Event.KEYDOWN_DATA_API, Selector.MENU, Dropdown._dataApiKeydownHandler)\n  // メニュークリーンを登録\n  .on(`${Event.CLICK_DATA_API} ${Event.KEYUP_DATA_API}`, Dropdown._clearMenus)\n  // [data-toggle=\"dropdown\"]のイベント伝藩を止めて、jQueryInterfaceをcallする\n  .on(Event.CLICK_DATA_API, Selector.DATA_TOGGLE, function (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    Dropdown._jQueryInterface.call($(this), 'toggle')\n  })\n  // イベントが伝藩しないようにする\n  .on(Event.CLICK_DATA_API, Selector.FORM_CHILD, (e) => {\n    e.stopPropagation()\n  })\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Dropdown._jQueryInterface\n$.fn[NAME].Constructor = Dropdown\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Dropdown._jQueryInterface\n}\n\n\nexport default Dropdown\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.4.1): tools/sanitizer.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst uriAttrs = [\n  'background',\n  'cite',\n  'href',\n  'itemtype',\n  'longdesc',\n  'poster',\n  'src',\n  'xlink:href'\n]\n\n\nconst ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i\n\nexport const DefaultWhitelist = {\n  // htmlタグにつけることを許可された属性達\n  '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],\n  a: ['target', 'href', 'title', 'rel'],\n  area: [],\n  b: [],\n  br: [],\n  col: [],\n  code: [],\n  div: [],\n  em: [],\n  hr: [],\n  h1: [],\n  h2: [],\n  h3: [],\n  h4: [],\n  h5: [],\n  h6: [],\n  i: [],\n  img: ['src', 'alt', 'title', 'width', 'height'],\n  li: [],\n  ol: [],\n  p: [],\n  pre: [],\n  s: [],\n  small: [],\n  span: [],\n  sub: [],\n  sup: [],\n  strong: [],\n  u: [],\n  ul: []\n}\n\n/**\n * 安全なURLのパターン\n *\n * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\n */\nconst SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi\n\n/**\n * 安全なdataのURLパターン。画像、ビデオ、音声のみが一致する\n *\n * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\n */\nconst DATA_URL_PATTERN = /^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i\n\nfunction allowedAttribute(attr, allowedAttributeList) {\n  // attrの属性とかを小文字で取得する\n  const attrName = attr.nodeName.toLowerCase()\n\n  // allowedAttributeListにattrNameがあるか探す。なかったら-1が帰ってくる\n  if (allowedAttributeList.indexOf(attrName) !== -1) {\n    // uriAttrsにattrNameがあるか探す\n    if (uriAttrs.indexOf(attrName) !== -1) {\n      // 値が真偽か判定して真偽を返す\n      // attrの中で安全なURLと安全なdataURLと一致するものがあったらtrue\n      // なかったらfalse\n      return Boolean(attr.nodeValue.match(SAFE_URL_PATTERN) || attr.nodeValue.match(DATA_URL_PATTERN))\n    }\n\n    // 属性がなかったらtrueを返す\n    return true\n  }\n\n  // allowedAttributeListから正規表現として使える文字を選別\n  const regExp = allowedAttributeList.filter((attrRegex) => attrRegex instanceof RegExp)\n\n  // attrNameの中にregExpとマッチするものがあるか確認\n  for (let i = 0, l = regExp.length; i < l; i++) {\n    if (attrName.match(regExp[i])) {\n      return true\n    }\n  }\n\n  return false\n}\n\nexport function sanitizeHtml(unsafeHtml, whiteList, sanitizeFn) {\n  // unsafeHtmlがなかったらそのまま返す\n  if (unsafeHtml.length === 0) {\n    return unsafeHtml\n  }\n\n  // sanitizeFnが存在していて、functionならsanitizeFnを実行して返す\n  if (sanitizeFn && typeof sanitizeFn === 'function') {\n    return sanitizeFn(unsafeHtml)\n  }\n\n  const domParser = new window.DOMParser()\n  // DOMツリー作成\n  const createdDocument = domParser.parseFromString(unsafeHtml, 'text/html')\n  // whitelistのキーをwhitelistKeysに入れる\n  const whitelistKeys = Object.keys(whiteList)\n  // body配下の要素を1個ずつ取得する\n  const elements = [].slice.call(createdDocument.body.querySelectorAll('*'))\n\n  // エレメントの数だけ回すよ\n  for (let i = 0, len = elements.length; i < len; i++) {\n    // elにelementsのi番目を入れる\n    const el = elements[i]\n    // nodeNameを小文字で取得する\n    const elName = el.nodeName.toLowerCase()\n\n    // el.nodeNameがwhitelistKeysにあるか判定。\n    if (whitelistKeys.indexOf(el.nodeName.toLowerCase()) === -1) {\n      // elを削除\n      el.parentNode.removeChild(el)\n\n      // forの条件式に戻る\n      continue\n    }\n\n    // elの属性を取得\n    const attributeList = [].slice.call(el.attributes)\n    // 配列を連結するんだろうけど、||が3つあるのがよくわからん\n    const whitelistedAttributes = [].concat(whiteList['*'] || [], whiteList[elName] || [])\n\n    attributeList.forEach((attr) => {\n      if (!allowedAttribute(attr, whitelistedAttributes)) {\n        // Elementsから属性を削除\n        el.removeAttribute(attr.nodeName)\n      }\n    })\n  }\n\n  return createdDocument.body.innerHTML\n}\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.4.1): tooltip.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport {\n  DefaultWhitelist,\n  sanitizeHtml\n} from './tools/sanitizer'\nimport $ from 'jquery'\nimport Popper from 'popper.js'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'tooltip'\nconst VERSION = '4.4.1'\nconst DATA_KEY = 'bs.tooltip'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\nconst CLASS_PREFIX = 'bs-tooltip'\nconst BSCLS_PREFIX_REGEX = new RegExp(`(^|\\\\s)${CLASS_PREFIX}\\\\S+`, 'g')\nconst DISALLOWED_ATTRIBUTES = ['sanitize', 'whiteList', 'sanitizeFn']\n\nconst DefaultType = {\n  animation : 'boolean',\n  template : 'string',\n  title : '(string|element|function)',\n  trigger : 'string',\n  delay : '(number|object)',\n  html : 'boolean',\n  selector : '(string|boolean)',\n  placement : '(string|function)',\n  offset : '(number|string|function)',\n  container : '(string|element|boolean)',\n  fallbackPlacement : '(string|array)',\n  boundary : '(string|element)',\n  sanitize : 'boolean',\n  sanitizeFn : '(null|function)',\n  whiteList : 'object',\n  popperConfig : '(null|object)'\n}\n\nconst AttachmentMap = {\n  AUTO : 'auto',\n  TOP : 'top',\n  RIGHT : 'right',\n  BOTTOM : 'bottom',\n  LEFT : 'left'\n}\n\nconst Default = {\n  animation : true,\n  template : '<div class=\"tooltip\" role=\"tooltip\">' +\n                  '<div class=\"arrow\"></div>' +\n                  '<div class=\"tooltip-inner\"></div></div>',\n  trigger : 'hover focus',\n  title : '',\n  delay : 0,\n  html : false,\n  selector : false,\n  placement : 'top',\n  offset : 0,\n  container : false,\n  fallbackPlacement : 'flip',\n  boundary : 'scrollParent',\n  sanitize : true,\n  sanitizeFn : null,\n  whiteList : DefaultWhitelist,\n  popperConfig : null\n}\n\nconst HoverState = {\n  SHOW : 'show',\n  OUT  : 'out'\n}\n\nconst Event = {\n  HIDE : `hide${EVENT_KEY}`,\n  HIDDEN : `hidden${EVENT_KEY}`,\n  SHOW : `show${EVENT_KEY}`,\n  SHOWN : `shown${EVENT_KEY}`,\n  INSERTED : `inserted${EVENT_KEY}`,\n  CLICK : `click${EVENT_KEY}`,\n  FOCUSIN : `focusin${EVENT_KEY}`,\n  FOCUSOUT : `focusout${EVENT_KEY}`,\n  MOUSEENTER : `mouseenter${EVENT_KEY}`,\n  MOUSELEAVE : `mouseleave${EVENT_KEY}`\n}\n\nconst ClassName = {\n  FADE : 'fade',\n  SHOW : 'show'\n}\n\nconst Selector = {\n  TOOLTIP : '.tooltip',\n  TOOLTIP_INNER : '.tooltip-inner',\n  ARROW : '.arrow'\n}\n\nconst Trigger = {\n  HOVER  : 'hover',\n  FOCUS  : 'focus',\n  CLICK  : 'click',\n  MANUAL : 'manual'\n}\n\nclass Tooltip {\n  constructor(element, config) {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s tooltips require Popper.js (https://popper.js.org/)')\n    }\n\n    // private\n    this._isEnabled     = true\n    this._timeout       = 0\n    this._hoverState    = ''\n    this._activeTrigger = {}\n    this._popper        = null\n\n    // Protected\n    this.element = element\n    this.config  = this._getConfig(config)\n    this.tip     = null\n\n    this._setListeners()\n  }\n\n  // Getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  static get DATA_KEY() {\n    return DATA_KEY\n  }\n\n  static get Event() {\n    return Event\n  }\n\n  static get EVENT_KEY() {\n    return EVENT_KEY\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  // Public\n\n  enable() {\n    this._isEnabled = true\n  }\n\n  disable() {\n    this._isEnabled = false\n  }\n\n  toggleEnabled() {\n    this._isEnabled = !this._isEnabled\n  }\n\n  toggle(event) {\n    if (!this._isEnabled) {\n      return\n    }\n\n    if (event) {\n      const dataKey = this.constructor.DATA_KEY\n      let context = $(event.currentTarget).data(dataKey)\n\n      if (!context) {\n        context = new this.constructor(\n          event.currentTarget,\n          this._getDelegateConfig()\n        )\n        $(event.currentTarget).data(dataKey, context)\n      }\n\n      context._activeTrigger.click = !context._activeTrigger.click\n\n      if (context._isWithActiveTrigger()) {\n        context._enter(null, context)\n      } else {\n        context._leave(null, context)\n      }\n    } else {\n      if ($(this.getTipElement()).hasClass(ClassName.SHOW)) {\n        this._leave(null, this)\n        return\n      }\n\n      this._enter(null, this)\n    }\n  }\n\n  dispose() {\n    clearTimeout(this._timeout)\n\n    $.removeData(this.element, this.constructor.DATA_KEY)\n\n    $(this.element).off(this.constructor.EVENT_KEY)\n    $(this.element).closest('.modal').off('hide.bs.modal', this._hideModalHandler)\n\n    if (this.tip) {\n      $(this.tip).remove()\n    }\n\n    this._isEnabled     = null\n    this._timeout       = null\n    this._hoverState    = null\n    this._activeTrigger = null\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    this._popper = null\n    this.element = null\n    this.config  = null\n    this.tip     = null\n  }\n\n  show() {\n    if ($(this.element).css('display') === 'none') {\n      throw new Error('Please use show on visible elements')\n    }\n\n    const showEvent = $.Event(this.constructor.Event.SHOW)\n    if (this.isWithContent() && this._isEnabled) {\n      $(this.element).trigger(showEvent)\n\n      const shadowRoot = Util.findShadowRoot(this.element)\n      const isInTheDom = $.contains(\n        shadowRoot !== null ? shadowRoot : this.element.ownerDocument.documentElement,\n        this.element\n      )\n\n      if (showEvent.isDefaultPrevented() || !isInTheDom) {\n        return\n      }\n\n      const tip   = this.getTipElement()\n      const tipId = Util.getUID(this.constructor.NAME)\n\n      tip.setAttribute('id', tipId)\n      this.element.setAttribute('aria-describedby', tipId)\n\n      this.setContent()\n\n      if (this.config.animation) {\n        $(tip).addClass(ClassName.FADE)\n      }\n\n      const placement  = typeof this.config.placement === 'function'\n        ? this.config.placement.call(this, tip, this.element)\n        : this.config.placement\n\n      const attachment = this._getAttachment(placement)\n      this.addAttachmentClass(attachment)\n\n      const container = this._getContainer()\n      $(tip).data(this.constructor.DATA_KEY, this)\n\n      if (!$.contains(this.element.ownerDocument.documentElement, this.tip)) {\n        $(tip).appendTo(container)\n      }\n\n      $(this.element).trigger(this.constructor.Event.INSERTED)\n\n      this._popper = new Popper(this.element, tip, this._getPopperConfig(attachment))\n\n      $(tip).addClass(ClassName.SHOW)\n\n      // If this is a touch-enabled device we add extra\n      // empty mouseover listeners to the body's immediate children;\n      // only needed because of broken event delegation on iOS\n      // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n      if ('ontouchstart' in document.documentElement) {\n        $(document.body).children().on('mouseover', null, $.noop)\n      }\n\n      const complete = () => {\n        if (this.config.animation) {\n          this._fixTransition()\n        }\n        const prevHoverState = this._hoverState\n        this._hoverState     = null\n\n        $(this.element).trigger(this.constructor.Event.SHOWN)\n\n        if (prevHoverState === HoverState.OUT) {\n          this._leave(null, this)\n        }\n      }\n\n      if ($(this.tip).hasClass(ClassName.FADE)) {\n        const transitionDuration = Util.getTransitionDurationFromElement(this.tip)\n\n        $(this.tip)\n          .one(Util.TRANSITION_END, complete)\n          .emulateTransitionEnd(transitionDuration)\n      } else {\n        complete()\n      }\n    }\n  }\n\n  hide(callback) {\n    const tip       = this.getTipElement()\n    const hideEvent = $.Event(this.constructor.Event.HIDE)\n    const complete = () => {\n      if (this._hoverState !== HoverState.SHOW && tip.parentNode) {\n        tip.parentNode.removeChild(tip)\n      }\n\n      this._cleanTipClass()\n      this.element.removeAttribute('aria-describedby')\n      $(this.element).trigger(this.constructor.Event.HIDDEN)\n      if (this._popper !== null) {\n        this._popper.destroy()\n      }\n\n      if (callback) {\n        callback()\n      }\n    }\n\n    $(this.element).trigger(hideEvent)\n\n    if (hideEvent.isDefaultPrevented()) {\n      return\n    }\n\n    $(tip).removeClass(ClassName.SHOW)\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      $(document.body).children().off('mouseover', null, $.noop)\n    }\n\n    this._activeTrigger[Trigger.CLICK] = false\n    this._activeTrigger[Trigger.FOCUS] = false\n    this._activeTrigger[Trigger.HOVER] = false\n\n    if ($(this.tip).hasClass(ClassName.FADE)) {\n      const transitionDuration = Util.getTransitionDurationFromElement(tip)\n\n      $(tip)\n        .one(Util.TRANSITION_END, complete)\n        .emulateTransitionEnd(transitionDuration)\n    } else {\n      complete()\n    }\n\n    this._hoverState = ''\n  }\n\n  update() {\n    if (this._popper !== null) {\n      this._popper.scheduleUpdate()\n    }\n  }\n\n  // Protected\n\n  isWithContent() {\n    return Boolean(this.getTitle())\n  }\n\n  addAttachmentClass(attachment) {\n    $(this.getTipElement()).addClass(`${CLASS_PREFIX}-${attachment}`)\n  }\n\n  getTipElement() {\n    this.tip = this.tip || $(this.config.template)[0]\n    return this.tip\n  }\n\n  setContent() {\n    const tip = this.getTipElement()\n    this.setElementContent($(tip.querySelectorAll(Selector.TOOLTIP_INNER)), this.getTitle())\n    $(tip).removeClass(`${ClassName.FADE} ${ClassName.SHOW}`)\n  }\n\n  setElementContent($element, content) {\n    if (typeof content === 'object' && (content.nodeType || content.jquery)) {\n      // Content is a DOM node or a jQuery\n      if (this.config.html) {\n        if (!$(content).parent().is($element)) {\n          $element.empty().append(content)\n        }\n      } else {\n        $element.text($(content).text())\n      }\n\n      return\n    }\n\n    if (this.config.html) {\n      if (this.config.sanitize) {\n        content = sanitizeHtml(content, this.config.whiteList, this.config.sanitizeFn)\n      }\n\n      $element.html(content)\n    } else {\n      $element.text(content)\n    }\n  }\n\n  getTitle() {\n    let title = this.element.getAttribute('data-original-title')\n\n    if (!title) {\n      title = typeof this.config.title === 'function'\n        ? this.config.title.call(this.element)\n        : this.config.title\n    }\n\n    return title\n  }\n\n  // Private\n\n  _getPopperConfig(attachment) {\n    const defaultBsConfig = {\n      placement: attachment,\n      modifiers: {\n        offset: this._getOffset(),\n        flip: {\n          behavior: this.config.fallbackPlacement\n        },\n        arrow: {\n          element: Selector.ARROW\n        },\n        preventOverflow: {\n          boundariesElement: this.config.boundary\n        }\n      },\n      onCreate: (data) => {\n        if (data.originalPlacement !== data.placement) {\n          this._handlePopperPlacementChange(data)\n        }\n      },\n      onUpdate: (data) => this._handlePopperPlacementChange(data)\n    }\n\n    return {\n      ...defaultBsConfig,\n      ...this.config.popperConfig\n    }\n  }\n\n  _getOffset() {\n    const offset = {}\n\n    if (typeof this.config.offset === 'function') {\n      offset.fn = (data) => {\n        data.offsets = {\n          ...data.offsets,\n          ...this.config.offset(data.offsets, this.element) || {}\n        }\n\n        return data\n      }\n    } else {\n      offset.offset = this.config.offset\n    }\n\n    return offset\n  }\n\n  _getContainer() {\n    if (this.config.container === false) {\n      return document.body\n    }\n\n    if (Util.isElement(this.config.container)) {\n      return $(this.config.container)\n    }\n\n    return $(document).find(this.config.container)\n  }\n\n  _getAttachment(placement) {\n    return AttachmentMap[placement.toUpperCase()]\n  }\n\n  _setListeners() {\n    const triggers = this.config.trigger.split(' ')\n\n    triggers.forEach((trigger) => {\n      if (trigger === 'click') {\n        $(this.element).on(\n          this.constructor.Event.CLICK,\n          this.config.selector,\n          (event) => this.toggle(event)\n        )\n      } else if (trigger !== Trigger.MANUAL) {\n        const eventIn = trigger === Trigger.HOVER\n          ? this.constructor.Event.MOUSEENTER\n          : this.constructor.Event.FOCUSIN\n        const eventOut = trigger === Trigger.HOVER\n          ? this.constructor.Event.MOUSELEAVE\n          : this.constructor.Event.FOCUSOUT\n\n        $(this.element)\n          .on(\n            eventIn,\n            this.config.selector,\n            (event) => this._enter(event)\n          )\n          .on(\n            eventOut,\n            this.config.selector,\n            (event) => this._leave(event)\n          )\n      }\n    })\n\n    this._hideModalHandler = () => {\n      if (this.element) {\n        this.hide()\n      }\n    }\n\n    $(this.element).closest('.modal').on(\n      'hide.bs.modal',\n      this._hideModalHandler\n    )\n\n    if (this.config.selector) {\n      this.config = {\n        ...this.config,\n        trigger: 'manual',\n        selector: ''\n      }\n    } else {\n      this._fixTitle()\n    }\n  }\n\n  _fixTitle() {\n    const titleType = typeof this.element.getAttribute('data-original-title')\n\n    if (this.element.getAttribute('title') || titleType !== 'string') {\n      this.element.setAttribute(\n        'data-original-title',\n        this.element.getAttribute('title') || ''\n      )\n\n      this.element.setAttribute('title', '')\n    }\n  }\n\n  _enter(event, context) {\n    const dataKey = this.constructor.DATA_KEY\n    context = context || $(event.currentTarget).data(dataKey)\n\n    if (!context) {\n      context = new this.constructor(\n        event.currentTarget,\n        this._getDelegateConfig()\n      )\n      $(event.currentTarget).data(dataKey, context)\n    }\n\n    if (event) {\n      context._activeTrigger[\n        event.type === 'focusin' ? Trigger.FOCUS : Trigger.HOVER\n      ] = true\n    }\n\n    if ($(context.getTipElement()).hasClass(ClassName.SHOW) || context._hoverState === HoverState.SHOW) {\n      context._hoverState = HoverState.SHOW\n      return\n    }\n\n    clearTimeout(context._timeout)\n\n    context._hoverState = HoverState.SHOW\n\n    if (!context.config.delay || !context.config.delay.show) {\n      context.show()\n      return\n    }\n\n    context._timeout = setTimeout(() => {\n      if (context._hoverState === HoverState.SHOW) {\n        context.show()\n      }\n    }, context.config.delay.show)\n  }\n\n  _leave(event, context) {\n    const dataKey = this.constructor.DATA_KEY\n    context = context || $(event.currentTarget).data(dataKey)\n\n    if (!context) {\n      context = new this.constructor(\n        event.currentTarget,\n        this._getDelegateConfig()\n      )\n      $(event.currentTarget).data(dataKey, context)\n    }\n\n    if (event) {\n      context._activeTrigger[\n        event.type === 'focusout' ? Trigger.FOCUS : Trigger.HOVER\n      ] = false\n    }\n\n    if (context._isWithActiveTrigger()) {\n      return\n    }\n\n    clearTimeout(context._timeout)\n\n    context._hoverState = HoverState.OUT\n\n    if (!context.config.delay || !context.config.delay.hide) {\n      context.hide()\n      return\n    }\n\n    context._timeout = setTimeout(() => {\n      if (context._hoverState === HoverState.OUT) {\n        context.hide()\n      }\n    }, context.config.delay.hide)\n  }\n\n  _isWithActiveTrigger() {\n    for (const trigger in this._activeTrigger) {\n      if (this._activeTrigger[trigger]) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  _getConfig(config) {\n    const dataAttributes = $(this.element).data()\n\n    Object.keys(dataAttributes)\n      .forEach((dataAttr) => {\n        if (DISALLOWED_ATTRIBUTES.indexOf(dataAttr) !== -1) {\n          delete dataAttributes[dataAttr]\n        }\n      })\n\n    config = {\n      ...this.constructor.Default,\n      ...dataAttributes,\n      ...typeof config === 'object' && config ? config : {}\n    }\n\n    if (typeof config.delay === 'number') {\n      config.delay = {\n        show: config.delay,\n        hide: config.delay\n      }\n    }\n\n    if (typeof config.title === 'number') {\n      config.title = config.title.toString()\n    }\n\n    if (typeof config.content === 'number') {\n      config.content = config.content.toString()\n    }\n\n    Util.typeCheckConfig(\n      NAME,\n      config,\n      this.constructor.DefaultType\n    )\n\n    if (config.sanitize) {\n      config.template = sanitizeHtml(config.template, config.whiteList, config.sanitizeFn)\n    }\n\n    return config\n  }\n\n  _getDelegateConfig() {\n    const config = {}\n\n    if (this.config) {\n      for (const key in this.config) {\n        if (this.constructor.Default[key] !== this.config[key]) {\n          config[key] = this.config[key]\n        }\n      }\n    }\n\n    return config\n  }\n\n  _cleanTipClass() {\n    const $tip = $(this.getTipElement())\n    const tabClass = $tip.attr('class').match(BSCLS_PREFIX_REGEX)\n    if (tabClass !== null && tabClass.length) {\n      $tip.removeClass(tabClass.join(''))\n    }\n  }\n\n  _handlePopperPlacementChange(popperData) {\n    const popperInstance = popperData.instance\n    this.tip = popperInstance.popper\n    this._cleanTipClass()\n    this.addAttachmentClass(this._getAttachment(popperData.placement))\n  }\n\n  _fixTransition() {\n    const tip = this.getTipElement()\n    const initConfigAnimation = this.config.animation\n\n    if (tip.getAttribute('x-placement') !== null) {\n      return\n    }\n\n    $(tip).removeClass(ClassName.FADE)\n    this.config.animation = false\n    this.hide()\n    this.show()\n    this.config.animation = initConfigAnimation\n  }\n\n  // Static\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      let data = $(this).data(DATA_KEY)\n      const _config = typeof config === 'object' && config\n\n      if (!data && /dispose|hide/.test(config)) {\n        return\n      }\n\n      if (!data) {\n        data = new Tooltip(this, _config)\n        $(this).data(DATA_KEY, data)\n      }\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Tooltip._jQueryInterface\n$.fn[NAME].Constructor = Tooltip\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Tooltip._jQueryInterface\n}\n\nexport default Tooltip\n"],"names":["TRANSITION_END","MAX_UID","MILLISECONDS_MULTIPLIER","toType","obj","toString","call","match","toLowerCase","getSpecialTransitionEndEvent","bindType","delegateType","handle","event","$","target","is","handleObj","handler","apply","arguments","undefined","transitionEndEmulator","duration","called","one","Util","setTimeout","triggerTransitionEnd","setTransitionEndSupport","fn","emulateTransitionEnd","special","getUID","prefix","Math","random","document","getElementById","getSelectorFromElement","element","selector","getAttribute","hrefAttr","trim","querySelector","err","getTransitionDurationFromElement","transitionDuration","css","transitionDelay","floatTransitionDuration","parseFloat","floatTransitionDelay","split","reflow","offsetHeight","trigger","supportsTransitionEnd","Boolean","isElement","nodeType","typeCheckConfig","componentName","config","configTypes","property","Object","prototype","hasOwnProperty","expectedTypes","value","valueType","RegExp","test","Error","toUpperCase","findShadowRoot","documentElement","attachShadow","getRootNode","root","ShadowRoot","parentNode","jQueryDetection","TypeError","version","jquery","minMajor","ltMajor","minMinor","minPatch","maxMajor","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","Selector","DISMISS","Event","CLOSE","CLOSED","CLICK_DATA_API","ClassName","ALERT","FADE","SHOW","Alert","_element","close","rootElement","_getRootElement","customEvent","_triggerCloseEvent","isDefaultPrevented","_removeElement","dispose","removeData","parent","closest","closeEvent","removeClass","hasClass","_destroyElement","detach","remove","_jQueryInterface","each","$element","data","_handleDismiss","alertInstance","preventDefault","on","Constructor","noConflict","ACTIVE","BUTTON","FOCUS","DATA_TOGGLE_CARROT","DATA_TOGGLES","DATA_TOGGLE","DATA_TOGGLES_BUTTONS","INPUT","FOCUS_BLUR_DATA_API","LOAD_DATA_API","Button","toggle","triggerChangeEvent","addAriaPressed","input","type","checked","classList","contains","activeElement","tagName","focus","hasAttribute","setAttribute","toggleClass","button","inputBtn","window","buttons","slice","querySelectorAll","i","len","length","add","ESCAPE_KEYCODE","SPACE_KEYCODE","TAB_KEYCODE","ARROW_UP_KEYCODE","ARROW_DOWN_KEYCODE","RIGHT_MOUSE_BUTTON_WHICH","REGEXP_KEYDOWN","HIDE","HIDDEN","SHOWN","CLICK","KEYDOWN_DATA_API","KEYUP_DATA_API","DISABLED","DROPUP","DROPRIGHT","DROPLEFT","MENURIGHT","MENULEFT","POSITION_STATIC","FORM_CHILD","MENU","NAVBAR_NAV","VISIBLE_ITEMS","AttachmentMap","TOP","TOPEND","BOTTOM","BOTTOMEND","RIGHT","RIGHTEND","LEFT","LEFTEND","Default","offset","flip","boundary","reference","display","popperConfig","DefaultType","Dropdown","_popper","_config","_getConfig","_menu","_getMenuElement","_inNavbar","_detectNavbar","_addEventListeners","disabled","isActive","_clearMenus","show","usePopper","relatedTarget","showEvent","_getParentFromElement","Popper","referenceElement","addClass","_getPopperConfig","body","children","noop","hide","hideEvent","destroy","off","update","scheduleUpdate","stopPropagation","constructor","_getPlacement","$parentDropdown","placement","_getOffset","offsets","modifiers","enabled","preventOverflow","boundariesElement","applyStyle","which","toggles","context","clickEvent","dropdownMenu","_dataApiKeydownHandler","items","filter","item","index","indexOf","e","uriAttrs","ARIA_ATTRIBUTE_PATTERN","DefaultWhitelist","a","area","b","br","col","code","div","em","hr","h1","h2","h3","h4","h5","h6","img","li","ol","p","pre","s","small","span","sub","sup","strong","u","ul","SAFE_URL_PATTERN","DATA_URL_PATTERN","allowedAttribute","attr","allowedAttributeList","attrName","nodeName","nodeValue","regExp","attrRegex","l","sanitizeHtml","unsafeHtml","whiteList","sanitizeFn","domParser","DOMParser","createdDocument","parseFromString","whitelistKeys","keys","elements","el","elName","removeChild","attributeList","attributes","whitelistedAttributes","concat","forEach","removeAttribute","innerHTML","CLASS_PREFIX","BSCLS_PREFIX_REGEX","DISALLOWED_ATTRIBUTES","animation","template","title","delay","html","container","fallbackPlacement","sanitize","AUTO","HoverState","OUT","INSERTED","FOCUSIN","FOCUSOUT","MOUSEENTER","MOUSELEAVE","TOOLTIP","TOOLTIP_INNER","ARROW","Trigger","HOVER","MANUAL","Tooltip","_isEnabled","_timeout","_hoverState","_activeTrigger","tip","_setListeners","enable","disable","toggleEnabled","dataKey","currentTarget","_getDelegateConfig","click","_isWithActiveTrigger","_enter","_leave","getTipElement","clearTimeout","_hideModalHandler","isWithContent","shadowRoot","isInTheDom","ownerDocument","tipId","setContent","attachment","_getAttachment","addAttachmentClass","_getContainer","appendTo","complete","_fixTransition","prevHoverState","callback","_cleanTipClass","getTitle","setElementContent","content","empty","append","text","defaultBsConfig","behavior","arrow","onCreate","originalPlacement","_handlePopperPlacementChange","onUpdate","find","triggers","eventIn","eventOut","_fixTitle","titleType","dataAttributes","dataAttr","key","$tip","tabClass","join","popperData","popperInstance","instance","popper","initConfigAnimation"],"mappings":"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"}
{"version":3,"file":"simplicss.js","sources":["../../js/src/util.js","../../js/src/alert.js","../../js/src/button.js","../../js/src/collapse.js","../../js/src/dropdown.js","../../js/src/tools/sanitizer.js","../../js/src/tooltip.js","../../js/src/popover.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * simplicss (v4.3.1): util.js\n * Licensed under MIT (https://github.com/twbs/simplicss/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\n\n/**\n * ------------------------------------------------------------------------\n * Private TransitionEnd Helpers\n * ------------------------------------------------------------------------\n */\n\n // transitionendイベント用で変数になってるのはprefixをつけるから？\nconst TRANSITION_END = 'transitionend'\nconst MAX_UID = 1000000\nconst MILLISECONDS_MULTIPLIER = 1000\n\n// Shoutout AngusCroll (https://goo.gl/pxwQGp)\n// オブジェクトの型を判定する\nfunction toType(obj) {\n  return {}.toString.call(obj).match(/\\s([a-z]+)/i)[1].toLowerCase()\n}\n\n//\nfunction getSpecialTransitionEndEvent() {\n  return {\n    bindType: TRANSITION_END,\n    delegateType: TRANSITION_END,\n    handle(event) {\n      if ($(event.target).is(this)) {\n        return event.handleObj.handler.apply(this, arguments) // eslint-disable-line prefer-rest-params\n      }\n      return undefined // eslint-disable-line no-undefined\n    }\n  }\n}\n\n// transitionの遷移時間を引数でもらう\nfunction transitionEndEmulator(duration) {\n  let called = false\n\n  // 呼び出しもとのエレメントでTRANSITION_ENDで一度だけ実行\n  $(this).one(Util.TRANSITION_END, () => {\n    // コールバックをtrueにする\n    called = true\n  })\n\n  setTimeout(() => {\n    // falseだったらtriggerTransitionEndを実行する\n    if (!called) {\n      Util.triggerTransitionEnd(this)\n    }\n  }, duration) // settimeoutの時間は引数の遷移時間\n  // エレメントを返す\n  return this\n}\n\nfunction setTransitionEndSupport() {\n  // jQueryのカスタムプラグインを作成\n  $.fn.emulateTransitionEnd = transitionEndEmulator\n  $.event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent()\n}\n\n/**\n * --------------------------------------------------------------------------\n * Public Util Api\n * --------------------------------------------------------------------------\n */\n\nconst Util = {\n\n  TRANSITION_END: 'scTransitionEnd',\n\n  // prefixはNAME(tooltipだとtooltipとか)\n  getUID(prefix) {\n    do {\n      // eslint-disable-next-line no-bitwise\n      prefix += ~~(Math.random() * MAX_UID) // ランダムな値を生成\n    } while (document.getElementById(prefix)) // 一致するIDの分だけ続行\n    return prefix\n  },\n\n  getSelectorFromElement(element) {\n    // 引数elementのdata-target属性の値を取得\n    let selector = element.getAttribute('data-target')\n\n    // data-targetが存在しないか#の場合\n    if (!selector || selector === '#') {\n      // elementのhref属性の値を取得\n      const hrefAttr = element.getAttribute('href')\n      // hrefAttrが存在していてかつ、#かどうかを判定して、trueならhrefAttrをtrimして返す。falseなら、空文字を入れる\n      // trim: https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/String/trim\n      selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : ''\n    }\n\n    try {\n      // html要素内にselectorで指定されている要素が存在するか判定\n      // 存在していた場合、selectorを返す\n      // なかったらnullを返す\n      return document.querySelector(selector) ? selector : null\n    } catch (err) {\n      // エラーになったらnullを返す\n      return null\n    }\n  },\n\n  // 要素から遷移時間を取得\n  getTransitionDurationFromElement(element) {\n    // エレメントがなかったら0を返す\n    if (!element) {\n      return 0\n    }\n\n    // transition-durationとtransition-delayの値を取得\n    let transitionDuration = $(element).css('transition-duration')\n    let transitionDelay = $(element).css('transition-delay')\n\n    // 浮動小数点を取得\n    const floatTransitionDuration = parseFloat(transitionDuration)\n    const floatTransitionDelay = parseFloat(transitionDelay)\n\n    // cssプロパティ、値がなければ0を返す\n    if (!floatTransitionDuration && !floatTransitionDelay) {\n      return 0\n    }\n\n    // 複数値が指定されてたら最初の1つだけ取得する\n    transitionDuration = transitionDuration.split(',')[0]\n    transitionDelay = transitionDelay.split(',')[0]\n\n    // 変化にかかる時間(transitionDuration)と変化が始める時間(transitionDelay)を足して1000をかけて(秒にする)返す\n    return (parseFloat(transitionDuration) + parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER // ×1000する\n  },\n\n  reflow(element) {\n    // 要素の高さを取得する\n    // heightとpaddingとborderの合計値\n    return element.offsetHeight\n  },\n\n  // 引数エレメントでtrainsition_endイベントを実行する\n  triggerTransitionEnd(element) {\n    $(element).trigger(TRANSITION_END)\n  },\n\n  // TODO: Remove in v5\n  supportsTransitionEnd() {\n    return Boolean(TRANSITION_END)\n  },\n\n  // 引数がdom要素か判定する\n  // 違う場合はundefinedを返す\n  isElement(obj) {\n    return (obj[0] || obj).nodeType\n  },\n\n  // configの値がDefaultType\n  typeCheckConfig(componentName, config, configTypes) {\n    // default typeの分だけループ\n    // dropdownだとoffset、flipなどなど\n    for (const property in configTypes) {\n      // Object.prototype.hasOwnPropertyはオブジェクトにpropertyがあるか判定する\n      // offsetプロパティが、configTypesにあるか\n      if (Object.prototype.hasOwnProperty.call(configTypes, property)) {\n        // configTypesからプロパティの値を取得(正規表現で使う文字列)\n        const expectedTypes = configTypes[property]\n        // configの中からpropertyの値を取得\n        const value = config[property]\n        // valueが存在してdom要素だった場合は文字列(element)を格納\n        // falseの場合は型を判定して格納\n        const valueType = value && Util.isElement(value)\n          ? 'element' : toType(value)\n\n        //  expectedTypesの正規表現に、valueTypeが一致しているか確認\n        if (!new RegExp(expectedTypes).test(valueType)) {\n          // 一致してなかったらthrowする\n          throw new Error(\n            `${componentName.toUpperCase()}: ` +\n            `Option \"${property}\" provided type \"${valueType}\" ` +\n            `but expected type \"${expectedTypes}\".`)\n        }\n      }\n    }\n  },\n\n  findShadowRoot(element) {\n    // shadow domが関連付けされてないときはnullを返す\n    if (!document.documentElement.attachShadow) {\n      return null\n    }\n\n    // elementのgetRootNodeがfunctionなら\n    if (typeof element.getRootNode === 'function') {\n      // elementのroot要素を取得\n      const root = element.getRootNode()\n      // rootがshadowrootのインスタンスならrootを返す。\n      // そうじゃない場合はnullを返す\n      return root instanceof ShadowRoot ? root : null\n    }\n\n    // elementがshadow domのインスタンス\n    // つまりshadow domの要素だったら、elementを返す\n    if (element instanceof ShadowRoot) {\n      return element\n    }\n\n    // shadow domのルートが探せない場合はnullを返す\n    if (!element.parentNode) {\n      return null\n    }\n    // elementのparentNodeに対して同じ操作を繰り返す\n    return Util.findShadowRoot(element.parentNode)\n  },\n\n  jQueryDetection() {\n    if (typeof $ === 'undefined') {\n      throw new TypeError('simplicss\\'s JavaScript requires jQuery. jQuery must be included before simplicss\\'s JavaScript.')\n    }\n\n    const version = $.fn.jquery.split(' ')[0].split('.')\n    const minMajor = 1\n    const ltMajor = 2\n    const minMinor = 9\n    const minPatch = 1\n    const maxMajor = 4\n\n    if (version[0] < ltMajor && version[1] < minMinor || version[0] === minMajor && version[1] === minMinor && version[2] < minPatch || version[0] >= maxMajor) {\n      throw new Error('simplicss\\'s JavaScript requires at least jQuery v1.9.1 but less than v4.0.0')\n    }\n  }\n}\n\nUtil.jQueryDetection()\nsetTransitionEndSupport()\n\nexport default Util\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.3.1): alert.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\nconst NAME = 'alert'\nconst VERSION = '0.5.2'\n\nconst DATA_KEY = 'sc.alert'\n// アラート閉じた時のイベントとかに使うみたい\n// http://bootstrap3.cyberlab.info/javascript/alerts-events.html\nconst EVENT_KEY = `.${DATA_KEY}`\n// イベントを無効にする用\n// https://getbootstrap.jp/docs/4.1/getting-started/javascript/\nconst DATA_API_KEY = '.data-api'\n// 他のフレームワークと名前衝突を回避する用\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\n// アラート消す用\nconst Selector = {\n  DISMISS : '[data-dismiss=\"alert\"]'\n}\n\n// イベント用の名前\n// e.g. close.sc.alert\nconst Event = {\n  CLOSE : `close${EVENT_KEY}`,\n  CLOSED : `closed${EVENT_KEY}`,\n  CLICK_DATA_API : `click${EVENT_KEY}${DATA_API_KEY}`\n}\n\n// htmlのクラス名\nconst ClassName = {\n  ALERT : 'alert',\n  FADE  : 'fade',\n  SHOW  : 'show'\n}\n\nclass Alert {\n  constructor(element) {\n    this._element = element\n  }\n\n  // バージョンのゲッター\n  static get VERSION() {\n    return VERSION\n  }\n\n  // public method\n\n  close(element) {\n    // このクラス内のthisはalertクラス\n\n    // コンストラクタで取得したelement\n    let rootElement = this._element\n\n    // closeにelementが引数で渡されていたら\n    if (element) {\n      // div.alertを取得\n      rootElement = this._getRootElement(element)\n    }\n\n    // カスタムイベントを作成\n    const customEvent = this._triggerCloseEvent(rootElement)\n\n    // イベントがブラウザの処理を禁止していた場合は闇に葬り去る\n    // http://www.jquerystudy.info/reference/events/isDefaultPrevented.html\n    if (customEvent.isDefaultPrevented()) {\n      return\n    }\n\n    // showクラスを削除する\n    // fadeクラスがなかった場合、要素を削除する\n    this._removeElement(rootElement)\n  }\n\n  // this._elementを削除するみたい\n  dispose() {\n    $.removeData(this._element, DATA_KEY)\n    this._element = null\n  }\n\n  // private method\n\n  // closeで使ってるやつ\n  _getRootElement(element) {\n    // elementのdata-targetもしくはhrefで指定されているselectorを取得\n    const selector = Util.getSelectorFromElement(element)\n    let parent     = false\n\n    // selectorがあった場合\n    if (selector) {\n      // data-targetもしくはhrefで指定されている要素を取得\n      // 開始タグから終了タグまで持ってくるみたい\n      parent = document.querySelector(selector)\n    }\n\n    // 上のifを通らなかったか通ってもnullが帰ってきた場合\n    if (!parent) {\n      // data-targetもしくはhrefが指定されてないので、一番近い.alertを取得する\n      parent = $(element).closest(`.${ClassName.ALERT}`)[0]\n    }\n\n    return parent\n  }\n\n  // closeで使ってるやつ\n  _triggerCloseEvent(element) {\n    // close.sc.alertイベントを定義\n    const closeEvent = $.Event(Event.CLOSE)\n\n    $(element).trigger(closeEvent) // closeイベントを発生\n    // closeEvent返すんか\n    return closeEvent\n  }\n\n  // closeで使ってるやつ\n  _removeElement(element) {\n    // showクラスを削除\n    $(element).removeClass(ClassName.SHOW)\n\n    // fadeクラスを持ってなかった場合\n    if (!$(element).hasClass(ClassName.FADE)) {\n      // アラートを削除\n      this._destroyElement(element)\n      return // eslint-disable-line no-useless-return\n    }\n\n    // 要素の変化にかかる時間を取得\n    const transitionDuration = Util.getTransitionDurationFromElement(element)\n\n    $(element)\n      // .oneは一回だけ実行するイベント。TRANSITION_ENDはイベント名。\n      // エレメントを削除してclosedイベントを実行する\n      .one(Util.TRANSITION_END, (event) => this._destroyElement(element, event))\n      // util.jsのtransitionEndEmulatorを実行\n      .emulateTransitionEnd(transitionDuration)\n  }\n\n  // _removeElementで使ってるやつ\n  _destroyElement(element) {\n    $(element) // elementを。。。\n      .detach() // elementを隔離\n      .trigger(Event.CLOSED) // closedイベントを発生させる\n      .remove() // element削除\n      // https://qiita.com/BRSF/items/1aa9d154bde497b0baa0#remove%E3%81%AE%E5%A0%B4%E5%90%88\n  }\n\n  // static\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      // elementを格納\n      const $element = $(this)\n      // elementのdata-sc.alert属性を取得\n      let data = $element.data(DATA_KEY)\n\n      // dataがなかったら\n      if (!data) {\n        // アラートをインスタンス化\n        // thisはelement\n        data = new Alert(this)\n        // elementにdata-sc.alertを設定\n        // 中身はdata\n        $element.data(DATA_KEY, data)\n      }\n\n      // configがcloseだったら・・・・\n      if (config === 'close') {\n        // alert.close(element)になる\n        data[config](this)\n      }\n    })\n  }\n\n  static _handleDismiss(alertInstance) {\n    return function (event) {\n      // イベントがあったら\n      if (event) {\n        // イベントの動作を停止させる\n        event.preventDefault()\n      }\n\n      // 引数で受け取ったalertインスタンスのcloseを実行\n      // 引数はhtmlのbutton\n      alertInstance.close(this)\n    }\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Apiの定義\n * ------------------------------------------------------------------------\n */\n\n// ここがブラウザで使う部分みたい\n$(document).on(\n  Event.CLICK_DATA_API, // click.sc.alert.data-api\n  Selector.DISMISS, // [data-dismiss=\"alert\"]\n  Alert._handleDismiss(new Alert()) // staticのやつ実行するんだね\n)\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n// .alertは_jQueryInterface\n$.fn[NAME] = Alert._jQueryInterface\n// .alert.ConstructorはAlert\n$.fn[NAME].Constructor = Alert\n\n// .alert.noConflict\n// 衝突回避用\n$.fn[NAME].noConflict  = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Alert._jQueryInterface\n}\n\n\nexport default Alert\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.3.1): button.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n// aria-pressedは要素が押されている状態\n// .activeはactive状態\n\nimport $ from 'jquery'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME  = 'button'\nconst VERSION = '0.5.2'\nconst DATA_KEY = 'sc.button'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\nconst ClassName = {\n  ACTIVE : 'active',\n  BUTTON : 'btn',\n  FOCUS  : 'focus'\n}\n\nconst Selector = {\n  DATA_TOGGLE_CARROT : '[data-toggle^=\"button\"]',\n  DATA_TOGGLES : '[data-toggle=\"buttons\"]',\n  DATA_TOGGLE : '[data-toggle=\"button\"]',\n  DATA_TOGGLES_BUTTONS : '[data-toggle=\"buttons\"] .btn',\n  INPUT : 'input:not([type=\"hidden\"])',\n  ACTIVE : '.active',\n  BUTTON : '.btn'\n}\n\nconst Event = {\n  CLICK_DATA_API : `click${EVENT_KEY}${DATA_API_KEY}`,\n  FOCUS_BLUR_DATA_API : `focus${EVENT_KEY}${DATA_API_KEY} ` +\n                                          `blur${EVENT_KEY}${DATA_API_KEY}`,\n  LOAD_DATA_API : `load${EVENT_KEY}${DATA_API_KEY}`\n}\n\n/**\n * ------------------------------------------------------------------------\n * クラス\n * ------------------------------------------------------------------------\n */\n\nclass Button {\n  constructor(element) {\n    this._element = element\n  }\n\n   // バージョンのゲッター\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  // toggleメソッド\n  toggle() {\n    let triggerChangeEvent = true\n    let addAriaPressed = true\n    // '[data-toggle=\"buttons\"]'をもつ要素の親要素を取得する\n    const rootElement = $(this._element).closest(\n      Selector.DATA_TOGGLES\n    )[0]\n\n    // rootElementがあったら\n    if (rootElement) {\n      // hiddenじゃないinputを取得する\n      const input = this._element.querySelector(Selector.INPUT)\n\n      // inputがあった場合\n      if (input) {\n        // inputがradioだった場合\n        if (input.type === 'radio') {\n          // .classList.contains(クラス名)が存在するか確認する\n          // radioがチェックされててかつ、.activeクラスが存在する場合。\n          if (input.checked &&\n            this._element.classList.contains(ClassName.ACTIVE)) {\n            // .activeなボタンを押したらfalseにする\n            triggerChangeEvent = false\n          } else {\n            // .activeを持つ要素を取得する。\n            const activeElement = rootElement.querySelector(Selector.ACTIVE)\n\n            // activeElementが存在してたら\n            if (activeElement) {\n              // .activeクラスを削除する\n              $(activeElement).removeClass(ClassName.ACTIVE)\n            }\n          }\n        // inputがcheckboxだったら\n        } else if (input.type === 'checkbox') {\n          // this._elementのタグ名が<label>でかつ、.activeクラスを持っていたら\n          if (this._element.tagName === 'LABEL' && input.checked === this._element.classList.contains(ClassName.ACTIVE)) {\n            triggerChangeEvent = false\n          }\n        } else {\n          // radioもしくはcheckboxじゃない場合、pointless/invalid checkedをinputに追加しちゃあかん\n          triggerChangeEvent = false\n        }\n\n        // .activeクラスを持っていない場合の処理\n        if (triggerChangeEvent) {\n          // アクティブを持っていないか確認\n          input.checked = !this._element.classList.contains(ClassName.ACTIVE)\n          // input要素に対してchangeを発動\n          $(input).trigger('change')\n        }\n\n        // inputにfocusを当てる\n        input.focus()\n        addAriaPressed = false\n      }\n    }\n\n    // buttonがdisabled属性を持ってるまたは、disabledクラスを持っていた場合\n    if (!(this._element.hasAttribute('disabled') || this._element.classList.contains('disabled'))) {\n      // ボタンがinputじゃなかったら\n      if (addAriaPressed) {\n        // .activeがあったらaria-pressed属性にfalseなかったらtrue\n        this._element.setAttribute('aria-pressed',\n          !this._element.classList.contains(ClassName.ACTIVE))\n      }\n\n      // .activeクラスを持ってたら.activeを消す\n      if (triggerChangeEvent) {\n        $(this._element).toggleClass(ClassName.ACTIVE)\n      }\n    }\n  }\n\n    // this._elementを削除するみたい\n  dispose() {\n    $.removeData(this._element, DATA_KEY)\n    this._element = null\n  }\n\n  // Static\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      // elementのdata-sc.buttonを取得\n      let data = $(this).data(DATA_KEY)\n\n\n      // dataがなかったら\n      if (!data) {\n        // buttonをインスタンス化\n        // thisはエレメント\n        data = new Button(this)\n        // thisにdata-sc.alertを設定\n        // 中身はボタンクラス\n        $(this).data(DATA_KEY, data)\n      }\n\n      // configがtoggleだったら\n      if (config === 'toggle') {\n        // button.toggleになる\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\n$(document) // click.sc.alert.data-api'と[data-toggle^=\"button\"]'\n  .on(Event.CLICK_DATA_API, Selector.DATA_TOGGLE_CARROT, (event) => {\n    // イベント対象のelement\n    let button = event.target\n    // イベント対象のelementが.btnを持ってたら\n    if (!$(button).hasClass(ClassName.BUTTON)) {\n      // .btnを持つ要素を取得する\n      button = $(button).closest(Selector.BUTTON)[0]\n    }\n\n    // ボタンがない、ボタンがdisable属性またはクラスを持つ場合\n    if (!button || button.hasAttribute('disabled') || button.classList.contains('disabled')) {\n      // イベントを禁止にする\n      event.preventDefault() // firefoxのバグで指定しないとだめみたい\n    } else {\n      // hidden以外のinputボタンを取得\n      const inputBtn = button.querySelector(Selector.INPUT)\n      // inputボタンが存在してdisabled属性またはクラスを持ってたら\n      if (inputBtn && (inputBtn.hasAttribute('disabled') || inputBtn.classList.contains('disabled'))) {\n        // イベントを禁止にする\n        event.preventDefault() // firefoxのバグで指定しないとだめみたい\n        return\n      }\n      // ここわかりやすい\n      // https://qiita.com/Chrowa3/items/b3e2961c4930abc1369b\n      Button._jQueryInterface.call($(button), 'toggle')\n    }\n  }) // focus.sc.alert.data-api +  blur.sc.alert.data-api'と[data-toggle^=\"button\"]'\n  .on(Event.FOCUS_BLUR_DATA_API, Selector.DATA_TOGGLE_CARROT, (event) => {\n    // button要素を取得する\n    const button = $(event.target).closest(Selector.BUTTON)[0]\n    // button要素に対して、fucusクラスをつける\n    // event,typeがfocusinならtrue、違うならfalse\n    // trueなら絶対クラスを付与、falseなら削除\n    $(button).toggleClass(ClassName.FOCUS, /^focus(in)?$/.test(event.type))\n  })\n\n  // load.sc.alert.data-api'\n$(window).on(Event.LOAD_DATA_API, () => {\n  // windowsロード時にボタンの状態を見て.activeを追加する\n  // checkとかになってないのに.activeがついてたら削除する\n\n  // data-toggle内のcheckboxとradioを見つける\n  //  '[data-toggle=\"buttons\"]をもつ .btn要素を全て取得する\n  let buttons = [].slice.call(document.querySelectorAll(Selector.DATA_TOGGLES_BUTTONS))\n  // buttonsの数だけループ回すよ\n  for (let i = 0, len = buttons.length; i < len; i++) {\n    // ボタンのi番目\n    const button = buttons[i]\n    // hidden以外のinputを取得\n    const input = button.querySelector(Selector.INPUT)\n    // inputがcheckされているか、checked属性を持っている場合\n    if (input.checked || input.hasAttribute('checked')) {\n      // .activeを追加する\n      button.classList.add(ClassName.ACTIVE)\n    } else {\n      // check状態じゃなかったら削除\n      button.classList.remove(ClassName.ACTIVE)\n    }\n  }\n\n  //  全ての[data-toggle=\"button\"]を取得する\n  buttons = [].slice.call(document.querySelectorAll(Selector.DATA_TOGGLE))\n  for (let i = 0, len = buttons.length; i < len; i++) {\n    const button = buttons[i]\n    // aria-pressedにtrueが指定されていたら\n    if (button.getAttribute('aria-pressed') === 'true') {\n      button.classList.add(ClassName.ACTIVE)\n    } else {\n      button.classList.remove(ClassName.ACTIVE)\n    }\n  }\n})\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Button._jQueryInterface\n$.fn[NAME].Constructor = Button\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Button._jQueryInterface\n}\n\nexport default Button\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.4.1): collapse.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'collapse'\nconst VERSION = '4.4.1'\nconst DATA_KEY = 'sc.collapse'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\nconst Default = {\n  toggle : true,\n  parent : ''\n}\n\nconst DefaultType = {\n  toggle : 'boolean',\n  parent : '(string|element)'\n}\n\nconst Event = {\n  SHOW : `show${EVENT_KEY}`,\n  SHOWN : `shown${EVENT_KEY}`,\n  HIDE : `hide${EVENT_KEY}`,\n  HIDDEN : `hidden${EVENT_KEY}`,\n  CLICK_DATA_API : `click${EVENT_KEY}${DATA_API_KEY}`\n}\n\nconst ClassName = {\n  SHOW : 'show',\n  COLLAPSE : 'collapse',\n  COLLAPSING : 'collapsing',\n  COLLAPSED  : 'collapsed'\n}\n\nconst Dimension = {\n  WIDTH : 'width',\n  HEIGHT : 'height'\n}\n\nconst Selector = {\n  ACTIVES : '.show, .collapsing',\n  DATA_TOGGLE : '[data-toggle=\"collapse\"]'\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Collapse {\n  constructor(element, config) {\n    this._isTransitioning = false\n    this._element = element\n    // cofigを取得\n    this._config = this._getConfig(config)\n    // data-toggle=\"collapse\"を持っていて、hrefもしくはdata-targetを持ってる要素を取得する\n    this._triggerArray = [].slice.call(document.querySelectorAll(\n      `[data-toggle=\"collapse\"][href=\"#${element.id}\"],` +\n      `[data-toggle=\"collapse\"][data-target=\"#${element.id}\"]`\n    ))\n\n    // [data-toggle=\"collapse\"]を持つ要素を全て取得する\n    const toggleList = [].slice.call(document.querySelectorAll(Selector.DATA_TOGGLE))\n    // 取得した[data-toggle=\"collapse\"]を持つ要素の数だけループする\n    for (let i = 0, len = toggleList.length; i < len; i++) {\n      // [data-toggle=\"collapse\"]要素を取り出す\n      const elem = toggleList[i]\n      // elemのhrefで指定した値を取得\n      const selector = Util.getSelectorFromElement(elem)\n      // セレクターで指定された(クリックされた)要素で指定されているhrefのelementを取得\n      const filterElement = [].slice.call(document.querySelectorAll(selector))\n        .filter((foundElem) => foundElem === element)\n\n      // selectorが存在していて、filterElementも存在していた場合\n      if (selector !== null && filterElement.length > 0) {\n        // this._selectorにselector(hrefの値)を入れる\n        this._selector = selector\n        // this._triggerArrayにelem([data-toggle=\"collapse\"]を持つ要素)を入れる\n        this._triggerArray.push(elem)\n      }\n    }\n\n    // this._config.parentが存在していたらgetParentを実行する\n    // 存在していなかったnullを入れる\n    this._parent = this._config.parent ? this._getParent() : null\n\n    // config.parentが存在していなかったら\n    if (!this._config.parent) {\n      // 開閉する要素が.showを持っているかによって\n      // trigger要素に.collapsedとaria-expanded属性を付与したり削除したりする\n      this._addAriaAndCollapsedClass(this._element, this._triggerArray)\n    }\n\n    // cofig.toggleがtrueだった場合\n    if (this._config.toggle) {\n      // Collapse.toggleを実行\n      this.toggle()\n    }\n  }\n\n  // Getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  // Public\n\n  toggle() {\n    // this._elementは開閉する要素\n    // その要素がshowを持っている場合\n    if ($(this._element).hasClass(ClassName.SHOW)) {\n      // hideを実行\n      this.hide()\n    } else {\n      // showを持っていない場合はshowを実行\n      this.show()\n    }\n  }\n\n  show() {\n    // this._isTransitioningがtrueもしくは、開閉対象の要素がshowを持っていたら\n    // 処理を終了する\n    if (this._isTransitioning ||\n      $(this._element).hasClass(ClassName.SHOW)) {\n      return\n    }\n\n    let actives\n    let activesData\n\n    // this._parentが存在していたら\n    if (this._parent) {\n      // parentから.showか.collapsingを持つ要素を取得する\n      actives = [].slice.call(this._parent.querySelectorAll(Selector.ACTIVES))\n        .filter((elem) => {\n          // this._config.parent要素がstringの場合\n          if (typeof this._config.parent === 'string') {\n            // .activesの要素でdata-parent属性がthis._config.parentもののみを取得\n            return elem.getAttribute('data-parent') === this._config.parent\n          }\n          // this._config.parent要素がstring以外の場合\n          // elemのクラスリストにcollapseが存在するもののみを取得\n          return elem.classList.contains(ClassName.COLLAPSE)\n        })\n\n      // activesに要素が存在していない場合は、nullを代入する\n      if (actives.length === 0) {\n        actives = null\n      }\n    }\n\n    // activesがnullじゃない場合\n    if (actives) {\n      // activesからクリックされたtrigger要素のhrefで指定された要素を削除\n      // 削除後に残ったactivesからDATA_KEYの値を取得する\n      activesData = $(actives).not(this._selector).data(DATA_KEY)\n      // activesDataが存在していて、activesData._isTransitioningがtrueなら\n      // 処理終了\n      if (activesData && activesData._isTransitioning) {\n        return\n      }\n    }\n\n    // showイベントを定義\n    const startEvent = $.Event(Event.SHOW)\n    // showイベントを発動\n    $(this._element).trigger(startEvent)\n    // showイベントがブラウザのデフォルト動作を禁止していたら処理終了\n    if (startEvent.isDefaultPrevented()) {\n      return\n    }\n\n    // activesが存在する場合\n    if (actives) {\n      // activesからthis._selectorで指定された要素を削除して、jQueryInterfaceでhideを実行\n      // つまり、showするのと同時に既に開いている要素を閉じる\n      Collapse._jQueryInterface.call($(actives).not(this._selector), 'hide')\n      // activeDataが存在しない場合\n      if (!activesData) {\n        // activesにDATA_KEYでnullを設定\n        $(actives).data(DATA_KEY, null)\n      }\n    }\n\n    // this._elementが.widthを持っていたらwidthを取得\n    // もっていなかったらheightを取得\n    const dimension = this._getDimension()\n\n    // this._element(開閉される要素)から.collapseを削除\n    // そして、.collapsingを付与\n    $(this._element)\n      .removeClass(ClassName.COLLAPSE)\n      .addClass(ClassName.COLLAPSING)\n\n    // 開閉対象の高さを0pxにする\n    this._element.style[dimension] = 0\n\n    // [data-toggle=\"collapse\"]を持つ要素が0じゃない場合\n    if (this._triggerArray.length) {\n      // _triggerArrayの.collapsedを削除\n      // aria-expandedをtrueで設定\n      $(this._triggerArray)\n        .removeClass(ClassName.COLLAPSED)\n        .attr('aria-expanded', true)\n    }\n\n    // this._isTransitioningにtrueを設定\n    this.setTransitioning(true)\n\n    const complete = () => {\n      // ここでshowをしている。詳細は_transitions.scssを確認だけど\n      // 単純に.showを持っていない.collapse要素はdisplay:none;している\n      // .collapsingを削除し、.collapseと.showを付与\n      $(this._element)\n        .removeClass(ClassName.COLLAPSING)\n        .addClass(ClassName.COLLAPSE)\n        .addClass(ClassName.SHOW)\n\n      // 0に設定したstyleを空にする\n      this._element.style[dimension] = ''\n\n      // this._isTransitioningにfalseを設定\n      this.setTransitioning(false)\n\n      // shownイベントを発動\n      $(this._element).trigger(Event.SHOWN)\n    }\n\n    // dimensionの1文字目を大文字にする\n    const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1)\n    const scrollSize = `scroll${capitalizedDimension}`\n    // 開閉する要素の遷移時間を取得\n    const transitionDuration = Util.getTransitionDurationFromElement(this._element)\n\n    // 開閉する要素\n    $(this._element)\n      .one(Util.TRANSITION_END, complete) // 一度だけ発動するcomplete\n      .emulateTransitionEnd(transitionDuration) // ここでTRANTION_ENDをtriggerしてる\n\n    // this._elementのdimensionスタイルに、scrollSize分の値を適用する\n    this._element.style[dimension] = `${this._element[scrollSize]}px`\n  }\n\n  hide() {\n        // this._isTransitioningがtrueもしくは、開閉対象の要素がshowを持っていなかったら\n    // 処理を終了する\n    if (this._isTransitioning ||\n      !$(this._element).hasClass(ClassName.SHOW)) {\n      return\n    }\n\n    // hideイベントを定義する\n    const startEvent = $.Event(Event.HIDE)\n    // hideイベントを発動する\n    $(this._element).trigger(startEvent)\n    // hideイベントがブラウザの動作を停止していたら処理終了\n    if (startEvent.isDefaultPrevented()) {\n      return\n    }\n\n    // this._elementが.widthを持っていたらwidthを取得\n    // もっていなかったらheightを取得\n    const dimension = this._getDimension()\n\n    // getBoundingClientRectは要素の位置を取得する\n    // つまり、開閉要素の位置(dimensionでheightかwidthを指定)を取得して\n    // 開閉要素のスタイルに指定する\b\n    this._element.style[dimension] = `${this._element.getBoundingClientRect()[dimension]}px`\n\n    // 開閉要素の高さを取得する\n    // heightとpaddingとborderの合計値\n    Util.reflow(this._element)\n\n    // 開閉要素に.collapsingを追加する\n    // .collapseと.showは削除する\n    $(this._element)\n      .addClass(ClassName.COLLAPSING)\n      .removeClass(ClassName.COLLAPSE)\n      .removeClass(ClassName.SHOW)\n\n    // trigger要素の長さを取得\n    const triggerArrayLength = this._triggerArray.length\n    // triggerArrayLengthが1以上だったら\n    if (triggerArrayLength > 0) {\n      // triggerArrayLengthの長さの分だけループする\n      for (let i = 0; i < triggerArrayLength; i++) {\n        // triggerArrayのひとつを取得\n        const trigger = this._triggerArray[i]\n        // triggerに指定されている開閉要素を取得する\n        const selector = Util.getSelectorFromElement(trigger)\n\n        // selectorが存在していたら\n        if (selector !== null) {\n          // 開閉要素を全て取得して、配列で入れる\n          const $elem = $([].slice.call(document.querySelectorAll(selector)))\n          // 開閉要素がshowを持っていない場合\n          if (!$elem.hasClass(ClassName.SHOW)) {\n            // trrigerに.collapsedを追加する\n            $(trigger).addClass(ClassName.COLLAPSED)\n              // aria-expanded属性をfalseにする\n              .attr('aria-expanded', false)\n          }\n        }\n      }\n    }\n\n    // this._isTransitioningをtrueにする\n    this.setTransitioning(true)\n\n    const complete = () => {\n      // this._isTransitioningをfalseにする\n      this.setTransitioning(false)\n      // 開閉要素に対して.collapsingを削除\n      // .collapseを追加\n      // Hiddenイベントを実行\n      $(this._element)\n        .removeClass(ClassName.COLLAPSING)\n        .addClass(ClassName.COLLAPSE)\n        .trigger(Event.HIDDEN)\n    }\n\n    // 開閉要素に設定したスタイルを空にする\n    this._element.style[dimension] = ''\n    // this._elementから遷移時間を取得\n    const transitionDuration = Util.getTransitionDurationFromElement(this._element)\n\n    // .collapsingの遷移が終わったタイミングでcompleteを実行\n    // emulateTransitionEndでTRANSITION_ENDを実行\n    $(this._element)\n      .one(Util.TRANSITION_END, complete)\n      .emulateTransitionEnd(transitionDuration)\n  }\n\n  setTransitioning(isTransitioning) {\n    // this._isTransitioningに引数を設定\n    // trueかfalse\n    this._isTransitioning = isTransitioning\n  }\n\n  // 全てを破壊する\n  dispose() {\n    // DATA_KEYを削除\n    $.removeData(this._element, DATA_KEY)\n\n    // 各要素にnullを代入して削除\n    this._config = null\n    this._parent = null\n    this._element = null\n    this._triggerArray = null\n    this._isTransitioning = null\n  }\n\n  // Private\n\n  // configを取得する\n  _getConfig(config) {\n    // configにDefaultの値と、configの値を展開して入れる\n    config = {\n      ...Default,\n      ...config\n    }\n    config.toggle = Boolean(config.toggle) // Stringをbooleanに変換する\n    // confignの値がDefaultTypeの型と一致しているか確認\n    Util.typeCheckConfig(NAME, config, DefaultType)\n    // configを返す\n    return config\n  }\n\n  _getDimension() {\n    // this._elementは開閉要素\n    // this._elementが.widthを持っているか判定\n    const hasWidth = $(this._element).hasClass(Dimension.WIDTH)\n    // .widthが存在していたらwidthを返す\n    // .widthが存在していなかったらheightを返す\n    return hasWidth ? Dimension.WIDTH : Dimension.HEIGHT\n  }\n\n  _getParent() {\n    let parent\n\n    // this._config.parentがElementか判定する\n    if (Util.isElement(this._config.parent)) {\n      // Elementだった場合そのまま格納\n      parent = this._config.parent\n\n      // jQuery object\n      // this._config.parent.jqueryがundefinedじゃない場合\n      if (typeof this._config.parent.jquery !== 'undefined') {\n        // elementを格納\n        parent = this._config.parent[0]\n      }\n    } else {\n      // this._config.parentがElementじゃない場合\n      // this._config.parentに指定されている要素を探して格納\n      parent = document.querySelector(this._config.parent)\n    }\n\n    // [data-toggle=\"collapse\"][data-parent=\"#accordion\"]みたいになる\n    const selector =\n      `[data-toggle=\"collapse\"][data-parent=\"${this._config.parent}\"]`\n\n    // parent要素の中からselectorとマッチする要素を取得する\n    // data-toggleとdata-parent両方持っている要素のみ\n    const children = [].slice.call(parent.querySelectorAll(selector))\n\n    // elementはselectorと一致した要素\n    $(children).each((i, element) => {\n      // 開閉する要素が.showを持っているかによって\n      // trigger要素に.collapsedとaria-expanded属性を付与したり削除したりする\n      this._addAriaAndCollapsedClass(\n        Collapse._getTargetFromElement(element), // hrefとかに指定されている要素\n        [element] // data-toggleとdata-parent両方持っている要素\n      )\n    })\n\n    // data-parent属性に指定された親要素を返す\n    return parent\n  }\n\n  // elementはhrefとかに指定されている開閉する要素\n  // triggerArrayはelementを開閉させるためにクリックする要素\n  _addAriaAndCollapsedClass(element, triggerArray) {\n    // elementがshowを持っているか判定\n    const isOpen = $(element).hasClass(ClassName.SHOW)\n\n    // triggerArrayに要素が入っているか判定\n    if (triggerArray.length) {\n      // elementがshowを持っていた場合は.collapsedを削除\n      // elementがshowを持っていない場合は.collapsedを付与\n      // aria-expanded属性にisOpenの値を設定\n      $(triggerArray)\n        .toggleClass(ClassName.COLLAPSED, !isOpen)\n        .attr('aria-expanded', isOpen)\n    }\n  }\n\n  // Static\n\n  // elementはdata-toggleとdata-parent両方持っている要素\n  static _getTargetFromElement(element) {\n    // elementが持ってるhrefやdata-targetに指定されているselectorを取得\n    const selector = Util.getSelectorFromElement(element)\n    // selectorが存在していたら、selectorに指定されている要素を取得して返す\n    // なかったらnullを返す\n    return selector ? document.querySelector(selector) : null\n  }\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      // selectorの要素(開閉する要素)\n      const $this = $(this)\n      // $thisのDATA_KEYと結びつくdata取得\n      let data = $this.data(DATA_KEY)\n      // configを格納\n      const _config = {\n        ...Default,\n        ...$this.data(), // data-parent=\"#accordion\"を取得することで_config.parentが生成される\n        // configがobjectかつ存在していたらconfigを返す。\n        // それ以外なら空配列を返す\n        ...typeof config === 'object' && config ? config : {}\n      }\n\n      // dataが存在していないかつ、_config.toggleがtrue\n      // configがshowまたはhideだった場合\n      if (!data && _config.toggle && /show|hide/.test(config)) {\n        // toggleをfalseにする\n        _config.toggle = false\n      }\n\n      // dataが存在してなかったらdataをインスタンス化する\n      // インスタンス化したdataはDATA_KEYでElementに設定する\n      if (!data) {\n        // thisはdata-toggle=\"collapse\"を持つ要素\n        // _configは上で設定した_config\n        data = new Collapse(this, _config)\n        $this.data(DATA_KEY, data)\n      }\n\n      // configがstringだった場合\n      if (typeof config === 'string') {\n        // configメソッドがdata(collapseクラス)にあるか確認する\n        if (typeof data[config] === 'undefined') {\n          // なかったらエラーを返す\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n        // 存在していたら実行\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n// DATA_TOGGLEに対して、クリックイベントを定義する\n$(document).on(Event.CLICK_DATA_API, Selector.DATA_TOGGLE, function (event) {\n  // 折りたたみ可能な要素な要素ないではなく、<a>要素（URLを変更する）に対してのみ動作を停止する\n  if (event.currentTarget.tagName === 'A') {\n    event.preventDefault()\n  }\n\n  // thisはクリックしたelement(イベント要素)\n  const $trigger = $(this)\n  // セレクタを取得(#collapseOneとか)\n  const selector = Util.getSelectorFromElement(this)\n  // セレクタで指定された要素を取得\n  const selectors = [].slice.call(document.querySelectorAll(selector))\n\n  $(selectors).each(function () {\n    // selectorで指定されているtoggleする要素\n    const $target = $(this)\n    // targetのDATA_KEYを取得する\n    const data = $target.data(DATA_KEY)\n    // configとdataが一致していたら$trigger.data()を入れる\n    // それ以外の場合はtoggleを入れる\n    // $trigger.data()は<a>のdata-toggleの値を取得する\n    const config  = data ? 'toggle' : $trigger.data()\n\n    // jqueryInterfaceを呼ぶ\n    Collapse._jQueryInterface.call($target, config)\n  })\n})\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Collapse._jQueryInterface\n$.fn[NAME].Constructor = Collapse\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Collapse._jQueryInterface\n}\n\nexport default Collapse\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.4.1): dropdown.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Popper from 'popper.js'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'dropdown'\nconst VERSION = '0.5.2'\nconst DATA_KEY = 'sc.dropdown'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\nconst ESCAPE_KEYCODE = 27 // Escキー\nconst SPACE_KEYCODE = 32 // スペースキー\nconst TAB_KEYCODE = 9 // タブキー\nconst ARROW_UP_KEYCODE = 38 // ↑キー\nconst ARROW_DOWN_KEYCODE = 40 // ↓キー\nconst RIGHT_MOUSE_BUTTON_WHICH = 3 // マウスの右クリック\n// 正規表現オブジェクト作成\nconst REGEXP_KEYDOWN = new RegExp(`${ARROW_UP_KEYCODE}|${ARROW_DOWN_KEYCODE}|${ESCAPE_KEYCODE}`)\n\nconst Event = {\n  HIDE : `hide${EVENT_KEY}`,\n  HIDDEN : `hidden${EVENT_KEY}`,\n  SHOW : `show${EVENT_KEY}`,\n  SHOWN: `shown${EVENT_KEY}`,\n  CLICK : `click${EVENT_KEY}`,\n  CLICK_DATA_API : `click${EVENT_KEY}${DATA_API_KEY}`,\n  KEYDOWN_DATA_API : `keydown${EVENT_KEY}${DATA_API_KEY}`,\n  KEYUP_DATA_API : `keyup${EVENT_KEY}${DATA_API_KEY}`\n}\n\nconst ClassName = {\n  DISABLED : 'disabled',\n  SHOW : 'show',\n  DROPUP : 'dropup',\n  DROPRIGHT : 'dropright',\n  DROPLEFT : 'dropleft',\n  MENURIGHT : 'dropdown-menu-right',\n  MENULEFT : 'dropdown-menu-left',\n  POSITION_STATIC : 'position-static'\n}\n\nconst Selector = {\n  DATA_TOGGLE : '[data-toggle=\"dropdown\"]',\n  FORM_CHILD : '.dropdown form',\n  MENU : '.dropdown-menu',\n  NAVBAR_NAV : '.navbar-nav',\n  VISIBLE_ITEMS : '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)'\n}\n\nconst AttachmentMap = {\n  TOP : 'top-start',\n  TOPEND : 'top-end',\n  BOTTOM : 'bottom-start',\n  BOTTOMEND : 'bottom-end',\n  RIGHT : 'right-start',\n  RIGHTEND : 'right-end',\n  LEFT : 'left-start',\n  LEFTEND : 'left-end'\n}\n\nconst Default = {\n  offset : 0,\n  flip : true,\n  boundary : 'scrollParent',\n  reference : 'toggle',\n  display : 'dynamic',\n  popperConfig : null\n}\n\nconst DefaultType = {\n  offset : '(number|string|function)',\n  flip : 'boolean',\n  boundary : '(string|element)',\n  reference : '(string|element)',\n  display : 'string',\n  popperConfig : '(null|object)'\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class\n * ------------------------------------------------------------------------\n */\n\nclass Dropdown {\n  // button.dropdown-toggleと、configがobjectならobject、違うならnull\n  constructor(element, config) {\n    this._element = element\n    this._popper = null\n    // configを取得\n    this._config = this._getConfig(config)\n    // .dropdown-menuを取得\n    this._menu = this._getMenuElement()\n    // dropdownがnavbarに内包されているか確認\n    this._inNavbar = this._detectNavbar()\n    // クリックイベントの設定（ここでtoggleも登録）\n    this._addEventListeners()\n  }\n\n    // Getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    static get Default() {\n      return Default\n    }\n\n    static get DefaultType() {\n      return DefaultType\n    }\n\n    toggle() {\n      // エレメントがdisable属性もしくはclassを持ってたら処理終了\n      if (this._element.disabled || $(this._element).hasClass(ClassName.DISABLED)) {\n        return\n      }\n\n      // メニューが.showを持ってるか判定\n      const isActive = $(this._menu).hasClass(ClassName.SHOW)\n\n      // メニューを閉じる\n      Dropdown._clearMenus()\n\n      // .showを持ってたらshowする必要ないので処理終了\n      if (isActive) {\n        return\n      }\n\n      // 下のshowを発動。popperは使う\n      this.show(true)\n    }\n\n    show(usePopper = false) {\n      // dropdownもしくはメニューがdisableになってたら処理終了\n      if (this._element.disabled || $(this._element).hasClass(ClassName.DISABLED) || $(this._menu).hasClass(ClassName.SHOW)) {\n        return\n      }\n\n      // .dropdown-toggleをrelatedTargetに入れる\n      const relatedTarget = {\n        relatedTarget: this._element\n      }\n\n      // show.sc.dropdownイベントを定義して、relatedTargetを渡す\n      const showEvent = $.Event(Event.SHOW, relatedTarget)\n\n      // エレメントの親要素を取得\n      // .dropdown\n      const parent = Dropdown._getParentFromElement(this._element)\n\n      // parentに対してshoweventを発動する\n      $(parent).trigger(showEvent)\n\n      // ブラウザの処理を禁止してたら処理終了\n      if (showEvent.isDefaultPrevented()) {\n        return\n      }\n\n    // navに入ってない状態でusepopperが使われる時\n    if (!this._inNavbar && usePopper) {\n      /**\n       * Check for Popper dependency\n       * Popper - https://popper.js.org\n       */\n      // popperが読み込まれているか確認\n      if (typeof Popper === 'undefined') {\n        throw new TypeError('Simplicss\\'s dropdowns require Popper.js (https://popper.js.org/)')\n      }\n\n      // .data-toggle要素を格納\n      let referenceElement = this._element\n\n      // this._configはDefault\n      // parentだったら\n      if (this._config.reference === 'parent') {\n        // this._elementの親要素を格納する\n        referenceElement = parent\n      } else if (Util.isElement(this._config.reference)) {\n        // this._config.referenceがdom要素だったら\n        // this._config.referenceを突っ込む\n        referenceElement = this._config.reference\n\n        // jquery要素か確認する\n        if (typeof this._config.reference.jquery !== 'undefined') {\n          referenceElement = this._config.reference[0]\n        }\n      }\n      // boundaryがscrollParentじゃない場合は、位置をstaticに設定してメニューが親をエスケープ出来るようにする\n      if (this._config.boundary !== 'scrollParent') {\n        // parentに.position-staticを追加\n        $(parent).addClass(ClassName.POSITION_STATIC)\n      }\n      // popperをインスタンス化\n      // referenceElementはdata-toggle、this._menuはメニュー、this._getPopperConfig()はpopperのコンフィグ\n      // ちなみにここでdropdownメニューを表示している\n      this._popper = new Popper(referenceElement, this._menu, this._getPopperConfig())\n    }\n\n    // タッチデバイスの場合、空のマウスオーバリスナーを追加\n    if ('ontouchstart' in document.documentElement &&\n        $(parent).closest(Selector.NAVBAR_NAV).length === 0) {\n      $(document.body).children().on('mouseover', null, $.noop)\n    }\n\n    // フォーカスさせる。キーイベントのため？\n    this._element.focus()\n    // showのときはaria-expanded属性を付与してtrueを設定する\n    this._element.setAttribute('aria-expanded', true)\n\n    // menuの.showを切り替える\n    $(this._menu).toggleClass(ClassName.SHOW)\n    // parentの.showを切り替えて、表示後のイベントをrelatedTargerに対して発動する\n    $(parent)\n      .toggleClass(ClassName.SHOW)\n      .trigger($.Event(Event.SHOWN, relatedTarget))\n  }\n\n  hide() {\n    // disableクラス、属性も持っていた場合と、メニューがshowを持っていた場合は処理を終了させる\n    if (this._element.disabled || $(this._element).hasClass(ClassName.DISABLED) || !$(this._menu).hasClass(ClassName.SHOW)) {\n      return\n    }\n    // this._elementをターゲットにする\n    const relatedTarget = {\n      relatedTarget: this._element\n    }\n    // ターゲットに対してhideイベントを定義する\n    const hideEvent = $.Event(Event.HIDE, relatedTarget)\n    // .dropdownを取得する\n    const parent = Dropdown._getParentFromElement(this._element)\n\n    // 親要素に対してhideイベントを実行する\n    $(parent).trigger(hideEvent)\n\n    // hideイベントがブラウザの動作を止めていたら処理を終了する\n    if (hideEvent.isDefaultPrevented()) {\n      return\n    }\n\n    // popperがあった場合は、削除する\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    // this._menuのshowクラスを切り替える\n    $(this._menu).toggleClass(ClassName.SHOW)\n    // 親要素に対して、showクラスを切り替えて、hiddenイベントを発動する\n    $(parent)\n      .toggleClass(ClassName.SHOW)\n      .trigger($.Event(Event.HIDDEN, relatedTarget))\n  }\n\n  dispose() {\n    // this_elementのdata-apiを削除する\n    $.removeData(this._element, DATA_KEY)\n    // this_elementのイベントを削除\n    $(this._element).off(EVENT_KEY)\n    this._element = null\n    this._menu = null\n    // popperがnullじゃなかったら、削除してnullにする\n    if (this._popper !== null) {\n      this._popper.destroy()\n      this._popper = null\n    }\n  }\n\n  update() {\n    // dropdownがnavbarにあるか確認\n    this._inNavbar = this._detectNavbar()\n    // popperがnullじゃなかったら\n    if (this._popper !== null) {\n      // popper要素の位置を変更\n      this._popper.scheduleUpdate()\n    }\n  }\n\n   // Private\n\n   _addEventListeners() {\n     // this_elementをクリックした時のイベントを定義する\n    $(this._element).on(Event.CLICK, (event) => {\n      // this._elementイベント禁止\n      event.preventDefault()\n      // 親要素のイベントが実行されないようにeventの伝播を禁止する\n      event.stopPropagation()\n      // toggleを発動する\n      this.toggle()\n    })\n  }\n\n  // configを取得\n  // 引数はtoggleだとnullでそうじゃなかったらobject\n  _getConfig(config) {\n    // configにdefaultの設定を$(this._element).data()、configの順に上書きしていく感じ\n    config = {\n      // default\n      ...this.constructor.Default,\n      //  data-toggle=\"dropdown\" data-display=\"static\" を取得してるみたい\n      // dataって単純にdata属性全部取得する\n      ...$(this._element).data(),\n      // 引数のconfig（object用？）\n      ...config\n    }\n\n    Util.typeCheckConfig(\n      // dropdown\n      NAME,\n      // 上で作ったconfigが入ってる\n      config,\n      // default typeがそのまま入ってる\n      this.constructor.DefaultType\n    )\n\n    return config\n  }\n\n  _getMenuElement() {\n    // this._menuが存在しなかった場合\n    if (!this._menu) {\n      // this._elementの親要素を返す。div.dropdownとかbtn-groupとか\n      const parent = Dropdown._getParentFromElement(this._element)\n\n      // parentが存在していた場合\n      if (parent) {\n        // parentの中から.dropdown-menuを取得してthis._menuに格納する\n        this._menu = parent.querySelector(Selector.MENU)\n      }\n    }\n\n    // this._menuが存在してたらそのまま返す。\n    // 存在してなかったら、取得して返す\n    return this._menu\n  }\n\n  _getPlacement() {\n    // this.elementの親要素を取得（.dropdown）\n    const $parentDropdown = $(this._element.parentNode)\n    // bottom-startを格納。初期値\n    let placement = AttachmentMap.BOTTOM\n\n    // dropupを持ってたら\n    if ($parentDropdown.hasClass(ClassName.DROPUP)) {\n      // top-startを格納\n      placement = AttachmentMap.TOP\n      // メニューがdropdown-menu-rightを持っていた場合\n      if ($(this._menu).hasClass(ClassName.MENURIGHT)) {\n        // top-endを格納\n        placement = AttachmentMap.TOPEND\n      }\n    // droprightを持っていた場合\n    } else if ($parentDropdown.hasClass(ClassName.DROPRIGHT)) {\n      // right-startを格納\n      placement = AttachmentMap.RIGHT\n    // dropleftを持っていた場合\n    } else if ($parentDropdown.hasClass(ClassName.DROPLEFT)) {\n      // left-startを格納\n      placement = AttachmentMap.LEFT\n    // dropdown-menu-rightを持っていた場合\n    } else if ($(this._menu).hasClass(ClassName.MENURIGHT)) {\n      // bottom-endを格納\n      placement = AttachmentMap.BOTTOMEND\n    }\n    return placement\n  }\n\n  _detectNavbar() {\n    // .navbar要素にdropdownが存在していないか確認\n    return $(this._element).closest('.navbar').length > 0\n  }\n\n  _getOffset() {\n    const offset = {}\n    // this._config.offsetが関数だったら\n    if (typeof this._config.offset === 'function') {\n      // dataはpopperみたい\n      offset.fn = (data) => {\n        // data.offsetに展開して格納\n        data.offsets = {\n          ...data.offsets,\n          ...this._config.offset(data.offsets, this._element) || {}\n        }\n\n        return data\n      }\n    } else {\n      // offsetにthis._config.offsetを入れる\n      offset.offset = this._config.offset\n    }\n\n    return offset\n  }\n\n  _getPopperConfig() {\n    // popperの設定を定義\n    const popperConfig = {\n      // 表示位置\n      placement: this._getPlacement(),\n      // offsetを更新するためのリスト\n      modifiers: {\n        // offset\n        offset: this._getOffset(),\n        // popperの表示を反転する\n        flip: {\n          enabled: this._config.flip\n        },\n        // flipを動作させるためにpreventOverflowが必要\n        preventOverflow: {\n          boundariesElement: this._config.boundary\n        }\n      }\n    }\n\n    // this._config.displayがstaticの場合は、popperを無効化する\n    if (this._config.display === 'static') {\n      popperConfig.modifiers.applyStyle = {\n        enabled: false\n      }\n    }\n\n    return {\n      // popperの設定を展開して返す\n      ...popperConfig,\n      ...this._config.popperConfig\n    }\n  }\n\n  // Static\n\n  // callの通り、configはtoggle\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      // こんな感じで使わないとdataには入らない\n      // $('.dropdown-toggle').data('sc.dropdown', '')\n      let data = $(this).data(DATA_KEY)\n      // configはtoggleの場合はnullになる。\n      const _config = typeof config === 'object' ? config : null\n      if (!data) {\n        // thisはdropdown-toggle(button)\n        // つまりelement\n        data = new Dropdown(this, _config)\n        // elementにsc.dropdownでdataをセットする\n        $(this).data(DATA_KEY, data)\n      }\n\n      // toggleの場合はstring\n      if (typeof config === 'string') {\n        // dataのtoggleを指してるみたい\n        if (typeof data[config] === 'undefined') {\n          // toggleメソッドがなかったらスロー\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n        // toggle関数を発動する\n        data[config]()\n      }\n    })\n  }\n\n  static _clearMenus(event) {\n    // イベントが存在していてかつ、イベントがマウスの右クリックまたはキーを離した、またはタブキーじゃないものを押下した場合\n    if (event && (event.which === RIGHT_MOUSE_BUTTON_WHICH ||\n      event.type === 'keyup' && event.which !== TAB_KEYCODE)) {\n      // 処理を終了する\n      return\n    }\n\n    //  '[data-toggle=\"dropdown\"]'をもつ .要素を全て取得する\n    const toggles = [].slice.call(document.querySelectorAll(Selector.DATA_TOGGLE))\n\n    // 取得したtogglesの数だけループ回す\n    for (let i = 0, len = toggles.length; i < len; i++) {\n      // togglesの親ノードを取得する\n      const parent = Dropdown._getParentFromElement(toggles[i])\n      // toggle要素のsc.dropdownを取得する\n      // jqueryInterfaceをで設定してdataを取得する（dataはdropdownのコンストラクタで定義した変数）\n      const context = $(toggles[i]).data(DATA_KEY)\n      // 連想配列にtoggleを追加\n      const relatedTarget = {\n        relatedTarget: toggles[i]\n      }\n\n      // イベントが存在してイベントがclickだったら\n      // bottonクリックのロキにイベントが発動してる\n      if (event && event.type === 'click') {\n        // relatedTargetのclickイベントにイベントを追加\n        relatedTarget.clickEvent = event\n      }\n\n      // sc.dropdownが存在していたら\n      if (!context) {\n        // 更新式に行く\n        // つまり、クリックされてないものはcontextがないので、更新式に飛ばされて次のボタンの判定に入る\n        continue\n      }\n\n      // contextのmenuをdropdownmenuに代入\n      const dropdownMenu = context._menu\n\n      // parentがshowクラスを持っていなかったら\n      if (!$(parent).hasClass(ClassName.SHOW)) {\n        // メニューが開いていないので、更新式に行く\n        continue\n      }\n\n      // イベントが存在してるのが前提\n      // イベントがclickで、イベントのターゲットタグがinputもしくはtextareaまたは、イベントがキーを離してイベントキーがタブ以外でparentの中にイベントのターゲット要素が含まれている場合\n      // /input|textarea/i.test(event.target.tagName) はmenu-itemがinputかtextareaの場合はtrue\n      if (event && (event.type === 'click' &&\n          /input|textarea/i.test(event.target.tagName) || event.type === 'keyup' && event.which === TAB_KEYCODE) &&\n          $.contains(parent, event.target)) { // parentにevent.targetが含まれているか。つまりparentのdropdownにクリックしたメニューが含まれているか\n        // つまりmenuを閉じなくてもいいイベントの場合はメニューを閉じる処理しませんよってことみたい\n        // 更新式に行く\n        continue\n      }\n\n      // hideイベントオブジェクトを定義する。\n      // relatedTargetはイベント発生時に実行する関数に渡す値(data-toggle=\"dropdown\"を持つ要素)\n      // http://www.jquerystudy.info/reference/events/event.html\n      const hideEvent = $.Event(Event.HIDE, relatedTarget)\n      // parent要素に対して、hideEventを発生去せる\n      // parentは.dropdown\n      $(parent).trigger(hideEvent)\n      // hideがブラウザの動作を停止していたら\n      if (hideEvent.isDefaultPrevented()) {\n        // 利用ユーザが特定の要素に対してe.preventDefault()みたいなのを書いたら処理をしない\n        // 更新式に行く\n        continue\n      }\n\n      // タッチデバイスだった場合、iOS用のマウスオーバリスナーを削除\n      if ('ontouchstart' in document.documentElement) {\n        $(document.body).children().off('mouseover', null, $.noop)\n      }\n\n      // toggleに'aria-expanded=falseを設定\n      toggles[i].setAttribute('aria-expanded', 'false')\n      // contextにpopperがあったら\n      if (context._popper) {\n        // popperインスタンスを削除\n        context._popper.destroy()\n      }\n\n      // .dropdown-menuの.showを削除\n      $(dropdownMenu).removeClass(ClassName.SHOW)\n      // parentの.showを削除してhiddenイベントを定義しつつ発動\n      // parentは.dropdown\n      $(parent)\n        .removeClass(ClassName.SHOW)\n        .trigger($.Event(Event.HIDDEN, relatedTarget))\n    }\n  }\n\n  static _getParentFromElement(element) {\n    // elementがボタンの要素全部になってる\n    let parent\n    // data-targetがないのでnullです。\n    const selector = Util.getSelectorFromElement(element)\n\n    // selectorが存在した場合\n    if (selector) {\n      // documentからselectorの要素を取得する\n      parent = document.querySelector(selector)\n    }\n\n    // parentが存在していたらparentを返す\n    // そうでなければ、elementのparentNodeで返す\n    // parentNodeは親ノード\n    return parent || element.parentNode\n  }\n\n  // eslint-disable-next-line complexity\n  static _dataApiKeydownHandler(event) {\n    // inputとtextareaの場合は、dropdownのコマンドを無効化する\n    if (/input|textarea/i.test(event.target.tagName)\n      ? event.which === SPACE_KEYCODE || event.which !== ESCAPE_KEYCODE &&\n      (event.which !== ARROW_DOWN_KEYCODE && event.which !== ARROW_UP_KEYCODE ||\n        $(event.target).closest(Selector.MENU).length) : !REGEXP_KEYDOWN.test(event.which)) {\n      return\n    }\n\n    // イベントを無効化して、伝藩しないようにする\n    event.preventDefault()\n    event.stopPropagation()\n\n    // disable属性または、disableクラスを持っていた場合、処理を終了する\n    if (this.disabled || $(this).hasClass(ClassName.DISABLED)) {\n      return\n    }\n\n    // dropdownの親要素を取得する\n    const parent   = Dropdown._getParentFromElement(this)\n    // parentが.showクラスを持っているか判定\n    const isActive = $(parent).hasClass(ClassName.SHOW)\n\n    // isActiveがfalseか、event.whichがエスケープキーだった場合、処理を終了させる\n    if (!isActive && event.which === ESCAPE_KEYCODE) {\n      return\n    }\n\n    // isActiveがfalseまたは、isActiveがtrueかつエスケープキーが押下された場合もしくは、スペースキーが押下された場合\n    if (!isActive || isActive && (event.which === ESCAPE_KEYCODE || event.which === SPACE_KEYCODE)) {\n      // エスキープキーだった場合\n      if (event.which === ESCAPE_KEYCODE) {\n        // parentのdata_toggleを持つ要素を取得\n        const toggle = parent.querySelector(Selector.DATA_TOGGLE)\n        // toggleをフォーカスする\n        $(toggle).trigger('focus')\n      }\n\n      // クリップイベントを発動する\n      $(this).trigger('click')\n      return\n    }\n\n    // disableしてないdropdown-menuとdropdown-itemを取得して、visibleのみを残す\n    const items = [].slice.call(parent.querySelectorAll(Selector.VISIBLE_ITEMS))\n      .filter((item) => $(item).is(':visible'))\n\n    // itemsで取得したものがなかったら処理終了\n    if (items.length === 0) {\n      return\n    }\n\n    // event.targetが何番目か取得する\n    let index = items.indexOf(event.target)\n\n    // 上キーが押されていて、indexが0よりおおきかったら\n    if (event.which === ARROW_UP_KEYCODE && index > 0) {\n      // indexを-1する\n      index--\n    }\n\n    // 下キーが押されていて、indexがindexの長さ-1より小さかったら\n    if (event.which === ARROW_DOWN_KEYCODE && index < items.length - 1) {\n      // indexを＋1する\n      index++\n    }\n\n      // indexが0より小さかったら\n    if (index < 0) {\n      // indexを0にする\n      index = 0\n    }\n\n    // drop-down-itemのindex番目をfucusする\n    items[index].focus()\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\n$(document)\n  // data-toggle=\"dropdown\"のキーイベントを登録\n  .on(Event.KEYDOWN_DATA_API, Selector.DATA_TOGGLE, Dropdown._dataApiKeydownHandler)\n  // .dropdown-menuのキーイベントを登録\n  .on(Event.KEYDOWN_DATA_API, Selector.MENU, Dropdown._dataApiKeydownHandler)\n  // メニュークリーンを登録\n  .on(`${Event.CLICK_DATA_API} ${Event.KEYUP_DATA_API}`, Dropdown._clearMenus)\n  // [data-toggle=\"dropdown\"]のイベント伝藩を止めて、jQueryInterfaceをcallする\n  .on(Event.CLICK_DATA_API, Selector.DATA_TOGGLE, function (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    Dropdown._jQueryInterface.call($(this), 'toggle')\n  })\n  // イベントが伝藩しないようにする\n  .on(Event.CLICK_DATA_API, Selector.FORM_CHILD, (e) => {\n    e.stopPropagation()\n  })\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Dropdown._jQueryInterface\n$.fn[NAME].Constructor = Dropdown\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Dropdown._jQueryInterface\n}\n\n\nexport default Dropdown\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.4.1): tools/sanitizer.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst uriAttrs = [\n  'background',\n  'cite',\n  'href',\n  'itemtype',\n  'longdesc',\n  'poster',\n  'src',\n  'xlink:href'\n]\n\n\nconst ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i\n\nexport const DefaultWhitelist = {\n  // htmlタグにつけることを許可された属性達\n  '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],\n  a: ['target', 'href', 'title', 'rel'],\n  area: [],\n  b: [],\n  br: [],\n  col: [],\n  code: [],\n  div: [],\n  em: [],\n  hr: [],\n  h1: [],\n  h2: [],\n  h3: [],\n  h4: [],\n  h5: [],\n  h6: [],\n  i: [],\n  img: ['src', 'alt', 'title', 'width', 'height'],\n  li: [],\n  ol: [],\n  p: [],\n  pre: [],\n  s: [],\n  small: [],\n  span: [],\n  sub: [],\n  sup: [],\n  strong: [],\n  u: [],\n  ul: []\n}\n\n/**\n * 安全なURLのパターン\n *\n * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\n */\nconst SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi\n\n/**\n * 安全なdataのURLパターン。画像、ビデオ、音声のみが一致する\n *\n * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\n */\nconst DATA_URL_PATTERN = /^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i\n\n// attrはhtmlの属性、allowedAttributeListは許可されている属性一覧\nfunction allowedAttribute(attr, allowedAttributeList) {\n  // attrの属性とかを小文字で取得する\n  const attrName = attr.nodeName.toLowerCase()\n\n  // allowedAttributeListにattrNameがあるか探す。なかったら-1が帰ってくる\n  if (allowedAttributeList.indexOf(attrName) !== -1) {\n    // uriAttrsにattrNameがあるか探す\n    if (uriAttrs.indexOf(attrName) !== -1) {\n      // 値が真偽か判定して真偽を返す\n      // attrの中で安全なURLと安全なdataURLと一致するものがあったらtrue\n      // なかったらfalse\n      return Boolean(attr.nodeValue.match(SAFE_URL_PATTERN) || attr.nodeValue.match(DATA_URL_PATTERN))\n    }\n\n    // 属性がなかったらtrueを返す。処理はここで終わり\n    return true\n  }\n\n  // allowedAttributeListから正規表現として使える文字を選別\n  const regExp = allowedAttributeList.filter((attrRegex) => attrRegex instanceof RegExp)\n\n  // attrNameの中にregExpとマッチするものがあるか確認\n  for (let i = 0, l = regExp.length; i < l; i++) {\n    if (attrName.match(regExp[i])) {\n      return true\n    }\n  }\n\n  return false\n}\n\nexport function sanitizeHtml(unsafeHtml, whiteList, sanitizeFn) {\n  // unsafeHtmlがなかったらそのまま返す\n  if (unsafeHtml.length === 0) {\n    return unsafeHtml\n  }\n\n  // sanitizeFnがtrueで、functionならsanitizeFnを実行して返す\n  if (sanitizeFn && typeof sanitizeFn === 'function') {\n    return sanitizeFn(unsafeHtml)\n  }\n\n  const domParser = new window.DOMParser()\n  // DOMツリー作成\n  const createdDocument = domParser.parseFromString(unsafeHtml, 'text/html')\n  // whitelistのキーをwhitelistKeysに入れる\n  const whitelistKeys = Object.keys(whiteList)\n  // createdDocumentの要素を1個ずつ取得する\n  const elements = [].slice.call(createdDocument.body.querySelectorAll('*'))\n\n  // エレメントの数だけ回すよ\n  for (let i = 0, len = elements.length; i < len; i++) {\n    // elにelementsのi番目を入れる\n    const el = elements[i]\n    // nodeNameを小文字で取得する\n    // 取得するnodeNameには、Classも含まれる\n    const elName = el.nodeName.toLowerCase()\n\n    // el.nodeNameがwhitelistKeysにあるか判定。\n    // '*'には一致しないんだね\n    if (whitelistKeys.indexOf(el.nodeName.toLowerCase()) === -1) {\n      // elを削除\n      el.parentNode.removeChild(el)\n\n      // forの条件式に戻る\n      continue\n    }\n\n    // elの属性を取得\n    // roleとかclass\n    const attributeList = [].slice.call(el.attributes)\n    // whiteList[*]は全部に適用されるので、基本入れる\n    // whiteList[elName]は該当するelementがあれば入れる\n    // []は多分区切り\n    const whitelistedAttributes = [].concat(whiteList['*'] || [], whiteList[elName] || [])\n\n    // attributeList(htmlについてたclassとかの属性)\n    attributeList.forEach((attr) => {\n      // attrが許可された属性か判定\n      if (!allowedAttribute(attr, whitelistedAttributes)) {\n        // 許可されてなかったらElementsから属性を削除\n        el.removeAttribute(attr.nodeName)\n      }\n    })\n  }\n\n   // サニタイズしたHTMLを返却\n  return createdDocument.body.innerHTML\n}\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.4.1): tooltip.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport {\n  DefaultWhitelist,\n  sanitizeHtml\n} from './tools/sanitizer'\nimport $ from 'jquery'\nimport Popper from 'popper.js'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'tooltip'\nconst VERSION = '4.4.1'\nconst DATA_KEY = 'sc.tooltip'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\nconst CLASS_PREFIX = 'sc-tooltip'\nconst SCCLS_PREFIX_REGEX = new RegExp(`(^|\\\\s)${CLASS_PREFIX}\\\\S+`, 'g')\nconst DISALLOWED_ATTRIBUTES = ['sanitize', 'whiteList', 'sanitizeFn']\n\nconst DefaultType = {\n  animation : 'boolean',\n  template : 'string',\n  title : '(string|element|function)',\n  trigger : 'string',\n  delay : '(number|object)',\n  html : 'boolean',\n  selector : '(string|boolean)',\n  placement : '(string|function)',\n  offset : '(number|string|function)',\n  container : '(string|element|boolean)',\n  fallbackPlacement : '(string|array)',\n  boundary : '(string|element)',\n  sanitize : 'boolean',\n  sanitizeFn : '(null|function)',\n  whiteList : 'object',\n  popperConfig : '(null|object)'\n}\n\nconst AttachmentMap = {\n  AUTO : 'auto',\n  TOP : 'top',\n  RIGHT : 'right',\n  BOTTOM : 'bottom',\n  LEFT : 'left'\n}\n\nconst Default = {\n  animation : true,\n  template : '<div class=\"tooltip\" role=\"tooltip\">' +\n                  '<div class=\"arrow\"></div>' +\n                  '<div class=\"tooltip-inner\"></div></div>',\n  trigger : 'hover focus',\n  title : '',\n  delay : 0,\n  html : false,\n  selector : false,\n  placement : 'top',\n  offset : 0,\n  container : false,\n  fallbackPlacement : 'flip',\n  boundary : 'scrollParent',\n  sanitize : true,\n  sanitizeFn : null,\n  whiteList : DefaultWhitelist,\n  popperConfig : null\n}\n\nconst HoverState = {\n  SHOW : 'show',\n  OUT  : 'out'\n}\n\nconst Event = {\n  HIDE : `hide${EVENT_KEY}`,\n  HIDDEN : `hidden${EVENT_KEY}`,\n  SHOW : `show${EVENT_KEY}`,\n  SHOWN : `shown${EVENT_KEY}`,\n  INSERTED : `inserted${EVENT_KEY}`,\n  CLICK : `click${EVENT_KEY}`,\n  FOCUSIN : `focusin${EVENT_KEY}`,\n  FOCUSOUT : `focusout${EVENT_KEY}`,\n  MOUSEENTER : `mouseenter${EVENT_KEY}`,\n  MOUSELEAVE : `mouseleave${EVENT_KEY}`\n}\n\nconst ClassName = {\n  FADE : 'fade',\n  SHOW : 'show'\n}\n\nconst Selector = {\n  TOOLTIP : '.tooltip',\n  TOOLTIP_INNER : '.tooltip-inner',\n  ARROW : '.arrow'\n}\n\nconst Trigger = {\n  HOVER  : 'hover',\n  FOCUS  : 'focus',\n  CLICK  : 'click',\n  MANUAL : 'manual'\n}\n\nclass Tooltip {\n  // elementは data-toggle=\"tooltip\"が付与されたelement\n  // configはobject(config)かfalse\n  constructor(element, config) {\n    // popperがなかったら、throw\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Simplicss\\'s tooltips require Popper.js (https://popper.js.org/)')\n    }\n\n    // private\n    this._isEnabled = true\n    this._timeout = 0\n    this._hoverState = ''\n    this._activeTrigger = {}\n    this._popper = null\n\n    // Protected\n    this.element = element\n    this.config = this._getConfig(config)\n    this.tip = null\n\n    this._setListeners()\n  }\n\n  // Getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  static get DATA_KEY() {\n    return DATA_KEY\n  }\n\n  static get Event() {\n    return Event\n  }\n\n  static get EVENT_KEY() {\n    return EVENT_KEY\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  // Public\n\n  enable() {\n    this._isEnabled = true\n  }\n\n  disable() {\n    this._isEnabled = false\n  }\n\n  toggleEnabled() {\n    this._isEnabled = !this._isEnabled\n  }\n\n  toggle(event) {\n    // this._isEnabledがfalseなら処理終了\n    if (!this._isEnabled) {\n      return\n    }\n\n    // イベントが存在した場合\n    if (event) {\n      // dataKeyを格納\n      const dataKey = this.constructor.DATA_KEY\n      // event.currentTargetからdataKeyの値を取得（Tooltipのclass）\n      let context = $(event.currentTarget).data(dataKey)\n\n      // contextがなかったら再設定する\n      if (!context) {\n        context = new this.constructor(\n          event.currentTarget,\n          this._getDelegateConfig()\n        )\n        $(event.currentTarget).data(dataKey, context)\n      }\n\n      // event.currentTargetの逆の値を格納\n      context._activeTrigger.click = !context._activeTrigger.click\n\n      // _activeTriggerがtrueだったら\n      if (context._isWithActiveTrigger()) {\n        // showの処理\n        context._enter(null, context)\n      } else {\n        // falseならhideの処理\n        context._leave(null, context)\n      }\n    } else {\n      // _activeTriggerがfalseの場合\n      // tipelementがshowクラスを持っていたら\n      if ($(this.getTipElement()).hasClass(ClassName.SHOW)) {\n        // hide処理を実行\n        this._leave(null, this)\n        // 処理終了\n        return\n      }\n      // showを持っていなかったらshowをする\n      this._enter(null, this)\n    }\n  }\n\n  dispose() {\n    // タイムアウトを削除\n    clearTimeout(this._timeout)\n\n    // this.elementに紐付いているdataを削除（Tooltipクラス）\n    $.removeData(this.element, this.constructor.DATA_KEY)\n\n    // this.elementに紐付いているイベントを削除\n    $(this.element).off(this.constructor.EVENT_KEY)\n    // .modalに紐付いているイベントも削除\n    $(this.element).closest('.modal').off('hide.sc.modal', this._hideModalHandler)\n\n    // this.tipがあったら削除\n    if (this.tip) {\n      $(this.tip).remove()\n    }\n\n    // 各設定を削除\n    this._isEnabled = null\n    this._timeout = null\n    this._hoverState = null\n    this._activeTrigger = null\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    this._popper = null\n    this.element = null\n    this.config = null\n    this.tip = null\n  }\n\n  show() {\n    // 対象のElementsがdisplay:noneだったらエラーにする\n    if ($(this.element).css('display') === 'none') {\n      throw new Error('Please use show on visible elements')\n    }\n\n    // showEventにshow.sc.tooltipを入れる\n    const showEvent = $.Event(this.constructor.Event.SHOW)\n\n    // titleが存在していて、isEnableがtrue\n    if (this.isWithContent() && this._isEnabled) {\n      // showイベントを発動する\n      $(this.element).trigger(showEvent)\n\n      // this,.elementに関連するshadow dowのrootを取得する\n      const shadowRoot = Util.findShadowRoot(this.element)\n      // jQuery.contains( 対象の要素 ,含まれているか調べたい要素 )\n      const isInTheDom = $.contains(\n        // shadowRootがnullじゃなかったらshadowRootが対象の要素\n        // nullだった場合は、this.elementを内包するトップレベルのdocument(bodyとか)\n        shadowRoot !== null ? shadowRoot : this.element.ownerDocument.documentElement,\n        this.element // this.elementを探す\n      )\n\n      // showイベントがブラウザの動作を停止している\n      // もしくは、this.elementがdomにない場合は処理終了\n      if (showEvent.isDefaultPrevented() || !isInTheDom) {\n        return\n      }\n\n      // tip elementの取得\n      const tip = this.getTipElement()\n      // 固有IDを取得\n      const tipId = Util.getUID(this.constructor.NAME)\n\n      // tipに対して、固有のIDを設定\n      tip.setAttribute('id', tipId)\n      // this.elementに対して、tipIDを設定\n      this.element.setAttribute('aria-describedby', tipId)\n      // tipにコンテンツの内容を設定する。あとshowとfadeクラスがあったら削除する\n      this.setContent()\n\n      // animationがtrueの場合\n      if (this.config.animation) {\n        // fadeクラスを付与する\n        $(tip).addClass(ClassName.FADE)\n      }\n\n      // placementがfunctionなら、実行する\n      // functionじゃない場合は、this.config.placementを入れる\n      const placement  = typeof this.config.placement === 'function'\n        ? this.config.placement.call(this, tip, this.element)\n        : this.config.placement\n\n      // AttachmentMapから該当するplacementを取得する\n      const attachment = this._getAttachment(placement)\n      // sc-tooltip-topなどのクラスを付与する\n      this.addAttachmentClass(attachment)\n\n      // body要素を取得する\n      const container = this._getContainer()\n      // tipにthis(tooltip)データを設定する\n      $(tip).data(this.constructor.DATA_KEY, this)\n\n      // this.element.ownerDocument.documentElementはhtml要素\n      // this.tipはtooltip\n      // htmlにtolltipの要素があるか確認する\n      if (!$.contains(this.element.ownerDocument.documentElement, this.tip)) {\n        // htmlにthis.tipが含まれていなかったらtipをcontainer(body要素)に追加する\n        // ここでhtmlに要素を追加して、tooltipを表示してる\n        $(tip).appendTo(container)\n      }\n\n      // inserted.sc.tooltipはツールチップテンプレートがDOMに追加されたときに show.sc.tooltip イベントの後に発動。\n      $(this.element).trigger(this.constructor.Event.INSERTED)\n\n      // this.popperをインスタンス化\n      // popperは位置調整\n      this._popper = new Popper(this.element, tip, this._getPopperConfig(attachment))\n\n      // tipにshowクラスを設定する\n      $(tip).addClass(ClassName.SHOW)\n\n      // iOSのために、空のマウスオーバリスナーを追加\n      // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n      if ('ontouchstart' in document.documentElement) {\n        $(document.body).children().on('mouseover', null, $.noop)\n      }\n\n      const complete = () => {\n        // animationがtrueの場合\n        if (this.config.animation) {\n          // popperで定義した表示位置を調整してる\n          this._fixTransition()\n        }\n        // hoverStateを代入\n        const prevHoverState = this._hoverState\n        // hoverStateをnullにする\n        this._hoverState = null\n\n        // shownイベントを実行する\n        $(this.element).trigger(this.constructor.Event.SHOWN)\n\n        // prevHoverStateがoutなら\n        if (prevHoverState === HoverState.OUT) {\n          // hoveroutしたときにhideする関数\n          this._leave(null, this)\n        }\n      }\n\n      // tipがfadeクラスをもってたら\n      if ($(this.tip).hasClass(ClassName.FADE)) {\n        // tip要素から遷移時間を取得\n        const transitionDuration = Util.getTransitionDurationFromElement(this.tip)\n\n      // tipに一度だけ(one)実行されるcompleteをバインド\n        $(this.tip)\n          .one(Util.TRANSITION_END, complete)\n          .emulateTransitionEnd(transitionDuration)\n      } else {\n        // そのままcompleteを実行\n        complete()\n      }\n    }\n  }\n\n  hide(callback) {\n    // tipのelementを取得\n    const tip = this.getTipElement()\n    // hideイベントを定義\n    const hideEvent = $.Event(this.constructor.Event.HIDE)\n    const complete = () => {\n      // tipのHoverStateがshowじゃなく、tipにparentNodeが存在する場合\n      if (this._hoverState !== HoverState.SHOW && tip.parentNode) {\n        // parentNodeからtipを削除する\n        tip.parentNode.removeChild(tip)\n      }\n\n      // tipからsc-tooltipと名のつくクラスを削除する\n      this._cleanTipClass()\n      // this.elementはdata-toggle=\"tooltip\"がついている要素\n      this.element.removeAttribute('aria-describedby')\n      // hiddenイベントを発動\n      $(this.element).trigger(this.constructor.Event.HIDDEN)\n      // popperが存在していたら\n      if (this._popper !== null) {\n        // popperを破棄する\n        this._popper.destroy()\n      }\n\n      // 引数のcallbackがあったら\n      if (callback) {\n        // callbackを実行する\n        callback()\n      }\n    }\n\n    // hideイベントを実行する\n    $(this.element).trigger(hideEvent)\n\n    // hideイベントがブラウザの機能を停止していたら\n    // 処理終了\n    if (hideEvent.isDefaultPrevented()) {\n      return\n    }\n\n    // tipからshowクラスを削除する\n    $(tip).removeClass(ClassName.SHOW)\n\n      // iOSのために、空のマウスオーバリスナーを追加\n      // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement) {\n      $(document.body).children().off('mouseover', null, $.noop)\n    }\n\n    // activeTriggerのclick、focus、hoverをfalseにする\n    this._activeTrigger[Trigger.CLICK] = false\n    this._activeTrigger[Trigger.FOCUS] = false\n    this._activeTrigger[Trigger.HOVER] = false\n\n    // tipがfadeクラスを持ってたら\n    if ($(this.tip).hasClass(ClassName.FADE)) {\n      // tip要素から遷移時間を取得\n      const transitionDuration = Util.getTransitionDurationFromElement(tip)\n\n      // tipに一度だけ(one)実行されるcompleteをバインド\n      $(tip)\n        .one(Util.TRANSITION_END, complete)\n        .emulateTransitionEnd(transitionDuration)\n    } else {\n      // fadeを持ってなかったらそのまま実行\n      complete()\n    }\n\n    // hoverStateに空文字を入れる\n    this._hoverState = ''\n  }\n\n  update() {\n    // popperのスケジュールをアップデートする\n    if (this._popper !== null) {\n      this._popper.scheduleUpdate()\n    }\n  }\n\n  // Protected\n\n  isWithContent() {\n    // titleが存在しているか判定\n    return Boolean(this.getTitle())\n  }\n\n  // AttachmentMapから取得したtooltipが出る場所\n  addAttachmentClass(attachment) {\n    // tipのelementにsc-tooltip-topなどのクラスを付与する\n    $(this.getTipElement()).addClass(`${CLASS_PREFIX}-${attachment}`)\n  }\n\n  getTipElement() {\n    // this.tipはHTML elementのtooltip\n    // this.config.templateは、Defaultのtooltipテンプレート\n    this.tip = this.tip || $(this.config.template)[0]\n    return this.tip\n  }\n\n  setContent() {\n    // tipのelementを取得する\n    const tip = this.getTipElement()\n    // tipにテキストを設定する\n    this.setElementContent($(tip.querySelectorAll(Selector.TOOLTIP_INNER)), this.getTitle())\n    // tipからfadeとshowクラスを削除する\n    $(tip).removeClass(`${ClassName.FADE} ${ClassName.SHOW}`)\n  }\n\n  // elementは.tooltip-inner\n  // contentはtitle\n  setElementContent($element, content) {\n    // コンテンツがオブジェクトで、content.nodeTypeまたはcontent.jqueryが存在するか\n    if (typeof content === 'object' && (content.nodeType || content.jquery)) {\n      // contentがDOMノードまたはjQuery\n      // config.htmlがfalse以外の場合\n      if (this.config.html) {\n        // contentの親要素が.tooltip-innerの場合\n        if (!$(content).parent().is($element)) {\n          // .tooltip-innerの子要素を全て削除してcontentを追加する\n          $element.empty().append(content)\n        }\n      } else {\n        // elementのテキストをcontentのテキストにする\n        $element.text($(content).text())\n      }\n\n      return\n    }\n\n    // config.htmlが存在する場合\n    if (this.config.html) {\n      // contentをサニタイズ\n      if (this.config.sanitize) {\n        content = sanitizeHtml(content, this.config.whiteList, this.config.sanitizeFn)\n      }\n\n      // elementのhtmlをcontentに変更\n      $element.html(content)\n    } else {\n      // elementのtextをcontentにする\n      $element.text(content)\n    }\n  }\n\n  getTitle() {\n    // elementのタイトルを取得\n    let title = this.element.getAttribute('data-original-title')\n\n    // タイトルが存在しなかったら\n    if (!title) {\n      // this.config,titleがfunctionなら実行してその結果を返す\n      // 単純にtitleがなかったらDefaultのtitleを使う\n      title = typeof this.config.title === 'function'\n        ? this.config.title.call(this.element)\n        : this.config.title\n    }\n\n    return title\n  }\n\n  // Private\n\n  // 引数は表示位置(topとか)\n  _getPopperConfig(attachment) {\n    // defaultのconfig\n    const defaultScConfig = {\n      placement: attachment,\n      modifiers: {\n        offset: this._getOffset(),\n        flip: {\n          behavior: this.config.fallbackPlacement\n        },\n        arrow: {\n          element: Selector.ARROW\n        },\n        preventOverflow: {\n          boundariesElement: this.config.boundary\n        }\n      },\n      onCreate: (data) => {\n        if (data.originalPlacement !== data.placement) {\n          // popperの表示位置を設定する\n          this._handlePopperPlacementChange(data)\n        }\n      },\n      onUpdate: (data) => this._handlePopperPlacementChange(data)\n    }\n\n    return {\n      ...defaultScConfig,\n      ...this.config.popperConfig\n    }\n  }\n\n  _getOffset() {\n    const offset = {}\n    // offsetがfunctionなら\n    if (typeof this.config.offset === 'function') {\n      // dataはpopperみたい\n      offset.fn = (data) => {\n        // popperのoffsetに、展開して入れる\n        data.offsets = {\n          ...data.offsets,\n          ...this.config.offset(data.offsets, this.element) || {}\n        }\n\n        return data\n      }\n    } else {\n      // configのoffsetを代入\n      offset.offset = this.config.offset\n    }\n\n    return offset\n  }\n\n  _getContainer() {\n    if (this.config.container === false) {\n      // body要素を返す\n      return document.body\n    }\n\n    if (Util.isElement(this.config.container)) {\n      return $(this.config.container)\n    }\n\n    return $(document).find(this.config.container)\n  }\n\n  _getAttachment(placement) {\n    // AttachmentMapから該当するplacementを取得する\n    return AttachmentMap[placement.toUpperCase()]\n  }\n\n  _setListeners() {\n    // this.config.triggerを' '(半角スペース)で分割する\n    // Defaultならhoverとfocusになる\n    const triggers = this.config.trigger.split(' ')\n    // triggerの分だけ繰り返す\n    triggers.forEach((trigger) => {\n      // triggerがclickだったら\n      if (trigger === 'click') {\n        $(this.element).on(\n          // click.sc.tooltip\n          this.constructor.Event.CLICK,\n          // Defaultはfalse\n          this.config.selector,\n          (event) => this.toggle(event) // toggleさせる\n        )\n      } else if (trigger !== Trigger.MANUAL) {\n        // Triggerがmanualじゃなかったら。(hoverかfocus)\n        // triggerがhoverか判定\n        const eventIn = trigger === Trigger.HOVER\n          ? this.constructor.Event.MOUSEENTER // trueはmouseenter.sc.tooltipを入れる\n          : this.constructor.Event.FOCUSIN // falseはfocusin.sc.tooltipを入れる\n\n        // triggerがhoverか判定\n        const eventOut = trigger === Trigger.HOVER\n          ? this.constructor.Event.MOUSELEAVE  // trueはmouseleave.sc.tooltipを入れる\n          : this.constructor.Event.FOCUSOUT // trueはfoucusout.sc.tooltipを入れる\n\n        $(this.element)\n          .on(\n            eventIn, // mouseenter.sc.tooltip\n            this.config.selector, // Defaultはfalse\n            (event) => this._enter(event) // showさせる\n          )\n          .on(\n            eventOut, // mouseleave.sc.tooltip\n            this.config.selector, // Defaultはfalse\n            (event) => this._leave(event) // hideさせる\n          )\n      }\n    })\n\n    // _hideModalHandlerを定義\n    this._hideModalHandler = () => {\n      // this.elementがあったら\n      if (this.element) {\n        // elementをhideする\n        this.hide()\n      }\n    }\n\n    // tooltip付近のmodalに対して、hide.sc.modalを設定\n    $(this.element).closest('.modal').on(\n      'hide.sc.modal',\n      this._hideModalHandler\n    )\n\n    // this.config.selectorがtrueだったら\n    if (this.config.selector) {\n      this.config = {\n        ...this.config, // this.configを展開して格納\n        trigger: 'manual', // triggerをmanualに設定\n        selector: '' // selectorは空文字にする\n      }\n    } else {\n      // falseならfixTitleを実行\n      this._fixTitle()\n    }\n  }\n\n  _fixTitle() {\n    // data-original-titleを取得して、そのTypeを判定\n    const titleType = typeof this.element.getAttribute('data-original-title')\n\n    // this.elementにtitleが存在していて、titleTypeがstringじゃない場合\n    if (this.element.getAttribute('title') || titleType !== 'string') {\n      this.element.setAttribute(\n        'data-original-title',\n        this.element.getAttribute('title') || '' // title属性があるならtitle属性の値で、無いなら空文字\n      )\n\n      // this.elementのtitle属性を空文字にする\n      this.element.setAttribute('title', '')\n    }\n  }\n\n  // eventはmouseoverとかのイベント\n  _enter(event, context) {\n    // dataKeyにsc.tooltipを入れる\n    const dataKey = this.constructor.DATA_KEY\n    // event.currentTargetはtooltipが付与されているelement\n    // 引数のcontextか、jQueryInterfaceでelementに入れたやつを入れる\n    context = context || $(event.currentTarget).data(dataKey)\n\n    // contextが存在しているか確認\n    if (!context) {\n      // contextがない場合は、tooltipのコンストラクタを読んどくみたい\n      context = new this.constructor(\n        // tooltipが付与されたelement\n        event.currentTarget,\n        // defaultにないtooltip.configを追加する\n        this._getDelegateConfig()\n      )\n      // tooltipが付与された要素に対して、sc.tooltipのデータキーで\n      // context(tooltipのインスタンス)を入れる\n      $(event.currentTarget).data(dataKey, context)\n    }\n\n    // eventが存在してたら\n    if (event) {\n      // event.typeがfocusinだったら、focusをtrueにする\n      // focusinじゃなかったらhoverをtrueにする\n      context._activeTrigger[\n        event.type === 'focusin' ? Trigger.FOCUS : Trigger.HOVER\n      ] = true\n    }\n\n    // div.tooltipがshowクラスを持っているもしくは、contextの_hoverStateがshowだった場合\n    if ($(context.getTipElement()).hasClass(ClassName.SHOW) || context._hoverState === HoverState.SHOW) {\n      // context._hoverStateにshowを入れる\n      context._hoverState = HoverState.SHOW\n      return\n    }\n\n    // setTimeout()を使用して設定された遅延処理を取り消す\n    clearTimeout(context._timeout)\n    // context._hoverStateにshowを入れる\n    context._hoverState = HoverState.SHOW\n\n    // context.config.delayが存在していなくて、delay.showが0の場合\n    if (!context.config.delay || !context.config.delay.show) {\n      // showを発動\n      context.show()\n      // 処理終了\n      return\n    }\n\n    // context._timeoutにdelay.showの分だけ遅らせたshowを発動する\n    context._timeout = setTimeout(() => {\n      // hoverStateがshowの場合\n      if (context._hoverState === HoverState.SHOW) {\n        context.show()\n      }\n    }, context.config.delay.show)\n  }\n\n  _leave(event, context) {\n    // datakeyを取得\n    const dataKey = this.constructor.DATA_KEY\n    // 引数にもよるけど、contextはtootip。それかイベントのcurrentTarget(datakey)の値\n    context = context || $(event.currentTarget).data(dataKey)\n\n    // contextが存在してなかったら\n    if (!context) {\n      context = new this.constructor(\n        // tooltipが付与されたelement\n        event.currentTarget,\n        // ユーザ側でconfigが設定されてたら上書きする\n        this._getDelegateConfig()\n      )\n      // eventのcurrentTargetにcontextを設定する\n      $(event.currentTarget).data(dataKey, context)\n    }\n\n    // eventが存在していたら\n    if (event) {\n      // event.typeがfocusoutだったらfucusに対してfalseを設定\n      // 違っかたらhoverに対してfalseを設定\n      context._activeTrigger[\n        event.type === 'focusout' ? Trigger.FOCUS : Trigger.HOVER\n      ] = false\n    }\n\n    // _activeTriggerがtrueなら処理終了\n    if (context._isWithActiveTrigger()) {\n      return\n    }\n\n    // タイムアウトを削除\n    clearTimeout(context._timeout)\n\n    // hoverStateにoutを設定\n    context._hoverState = HoverState.OUT\n\n    // delayが0か、delay.hideが存在してなかったら\n    if (!context.config.delay || !context.config.delay.hide) {\n      // tolltipのhideを実行して処理終了\n      context.hide()\n      return\n    }\n\n    // delay.hideの分だけhideを遅らせて発動\n    context._timeout = setTimeout(() => {\n      if (context._hoverState === HoverState.OUT) {\n        context.hide()\n      }\n    }, context.config.delay.hide)\n  }\n\n  _isWithActiveTrigger() {\n    // this._activeTrigger分回す\n    for (const trigger in this._activeTrigger) {\n      // trueだったら\n      if (this._activeTrigger[trigger]) {\n        // trueを返す\n        return true\n      }\n    }\n    // .activeTriggerがfalseしかなかったり、forで回すための\n    // 値がなかったらfalseを返す\n    return false\n  }\n\n  // configはobject(config)かfalse\n  _getConfig(config) {\n    // sc.tooltipとか\n    // placementとかtoggleの指定があればそれも\n    const dataAttributes = $(this.element).data()\n\n    // dataAttributesのキーを取得してその分ループしまくる\n    Object.keys(dataAttributes)\n      .forEach((dataAttr) => {\n        // 禁止されているdataAttrがないか存在しているか確認。\n        // ['sanitize', 'whiteList', 'sanitizeFn']\n        if (DISALLOWED_ATTRIBUTES.indexOf(dataAttr) !== -1) {\n          // 存在している場合はそのdataAttrを削除する\n          delete dataAttributes[dataAttr]\n        }\n      })\n\n    config = {\n      // Defaultを展開して入れる\n      ...this.constructor.Default,\n      // dataAttributesを展開して入れる\n      ...dataAttributes,\n      // configがobjectでかつ存在していたらconfigを代入\n      ...typeof config === 'object' && config ? config : {}\n    }\n\n    // config.delayがnumberだった場合\n    if (typeof config.delay === 'number') {\n      config.delay = {\n        // config.delayのshowとhideに\n        // config.delayの値を代入\n        show: config.delay,\n        hide: config.delay\n      }\n    }\n\n    // config.titleがnumberだった場合\n    // Stringに変換する\n    if (typeof config.title === 'number') {\n      config.title = config.title.toString()\n    }\n\n    // config.cotentがnumberだった場合\n    // Stringに変換する\n    if (typeof config.content === 'number') {\n      config.content = config.content.toString()\n    }\n\n    // configの各値のtypeがDefaultTypeの通りになっているか確認\n    // 例えば、configのanimationの型はbooleanかどうかとか\n    Util.typeCheckConfig(\n      NAME,\n      config,\n      this.constructor.DefaultType\n    )\n\n    // config.sanitizeがtrueなら\n    // Defaultはtrue\n    if (config.sanitize) {\n      // config.sanitizeFnはDefaultはfalse\n      // config.whiteListはsanitaizer.jsのwhitelist\n      config.template = sanitizeHtml(config.template, config.whiteList, config.sanitizeFn)\n    }\n\n    // configを返す\n    return config\n  }\n\n  _getDelegateConfig() {\n    const config = {}\n\n    if (this.config) {\n      // tooltipのconfigのkey分だけfor\n      for (const key in this.config) {\n        // Defaultのkeyの値と、this.configのkeyの値が不一致だったら\n        if (this.constructor.Default[key] !== this.config[key]) {\n          // configのkeyに、this.configのkeyの値を入れる\n          config[key] = this.config[key]\n        }\n      }\n    }\n\n    return config\n  }\n\n  _cleanTipClass() {\n    // tipの要素を取得\n    const $tip = $(this.getTipElement())\n    // tipのclassにマッチしているものがあるか確認\n    const tabClass = $tip.attr('class').match(SCCLS_PREFIX_REGEX)\n    // tabClassに値があったら\n    if (tabClass !== null && tabClass.length) {\n      // TabClassに該当するクラスを全て削除する\n      $tip.removeClass(tabClass.join(''))\n    }\n  }\n\n  // popperの表示位置を変更するとかの処理だと思う\n  _handlePopperPlacementChange(popperData) {\n    // popperのインスタンスを格納\n    const popperInstance = popperData.instance\n    this.tip = popperInstance.popper\n    // tipからクラスを削除する\n    this._cleanTipClass()\n    // popperData.placementから取得した表示位置クラスを設定する\n    this.addAttachmentClass(this._getAttachment(popperData.placement))\n  }\n\n  _fixTransition() {\n    // tipのelementを取得\n    const tip = this.getTipElement()\n    // configのanimetionを取得\n    const initConfigAnimation = this.config.animation\n\n    // tipにx-placementがなかったら処理終了\n    if (tip.getAttribute('x-placement') !== null) {\n      return\n    }\n\n    // tipのfadeクラスを削除する\n    $(tip).removeClass(ClassName.FADE)\n    // configのanimetionをfalseにする\n    this.config.animation = false\n    // tolltipのhideを実行\n    this.hide()\n    // tolltipのshowを実行\n    this.show()\n    // config.animationにanimationを再設定\n    this.config.animation = initConfigAnimation\n  }\n\n  // Static\n\n  // 引数はtooltip({container: $('#customContainer')[0]})とかのオブジェクト\n  // あと、tooltip('show')のshowとか\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      // $('#target').tooltipみたいな形な記述があればtooltipが入る\n      // その時、configに指定された値が入る。placement : 'top'とか\n      let data = $(this).data(DATA_KEY)\n\n      // configがobjectならobjectを_configに入れる\n      // それ以外(undefinedとかshowとか)ならfalseを入れる\n      const _config = typeof config === 'object' && config\n\n      // dataがundefinedで、configがdisposeまたは、hideにマッチする場合\n      // 処理を終了する\n      if (!data && /dispose|hide/.test(config)) {\n        return\n      }\n\n      // dataがundefinedの場合\n      if (!data) {\n        // dataにインスタンス化したTooltipを入れる\n        // thisはdata-toggle=\"tooltip\"が指定されてるelements\n        // _configはfalseかobject\n        data = new Tooltip(this, _config)\n        // elementsに対して、sc.tooltipって名前でdata(tooltipのインスタンス)\n        // を設定する\n        $(this).data(DATA_KEY, data)\n      }\n\n      // configがstringの場合(showとか)\n      if (typeof config === 'string') {\n        // tooltipsにconfigと同じ名前のメソッドがあるか判定\n        // 存在しない場合は、ないよっていう\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n        // throwされなかった場合は、configと同じ名前のメソッドを実行する\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Tooltip._jQueryInterface\n$.fn[NAME].Constructor = Tooltip\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Tooltip._jQueryInterface\n}\n\nexport default Tooltip\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.4.1): popover.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Tooltip from './tooltip'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'popover'\nconst VERSION = '4.4.1'\nconst DATA_KEY = 'sc.popover'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\nconst CLASS_PREFIX = 'sc-popover'\nconst SCCLS_PREFIX_REGEX = new RegExp(`(^|\\\\s)${CLASS_PREFIX}\\\\S+`, 'g')\n\nconst Default = {\n  ...Tooltip.Default,\n  placement : 'right',\n  trigger : 'click',\n  content : '',\n  template : '<div class=\"popover\" role=\"tooltip\">' +\n              '<div class=\"arrow\"></div>' +\n              '<h3 class=\"popover-header\"></h3>' +\n              '<div class=\"popover-body\"></div></div>'\n}\n\nconst DefaultType = {\n  ...Tooltip.DefaultType,\n  content : '(string|element|function)'\n}\n\nconst ClassName = {\n  FADE : 'fade',\n  SHOW : 'show'\n}\n\nconst Selector = {\n  TITLE : '.popover-header',\n  CONTENT : '.popover-body'\n}\n\nconst Event = {\n  HIDE : `hide${EVENT_KEY}`,\n  HIDDEN : `hidden${EVENT_KEY}`,\n  SHOW : `show${EVENT_KEY}`,\n  SHOWN : `shown${EVENT_KEY}`,\n  INSERTED  : `inserted${EVENT_KEY}`,\n  CLICK : `click${EVENT_KEY}`,\n  FOCUSIN : `focusin${EVENT_KEY}`,\n  FOCUSOUT : `focusout${EVENT_KEY}`,\n  MOUSEENTER : `mouseenter${EVENT_KEY}`,\n  MOUSELEAVE : `mouseleave${EVENT_KEY}`\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\n// Tooltipを継承するみたい\nclass Popover extends Tooltip {\n  // Getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  static get DATA_KEY() {\n    return DATA_KEY\n  }\n\n  static get Event() {\n    return Event\n  }\n\n  static get EVENT_KEY() {\n    return EVENT_KEY\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  // Overrides\n  // tooltipのメソッドを書き換える\n\n  // 存在した場合はtooltipのshowを継続する\n  isWithContent() {\n    // 存在する方のみ返す\n    return this.getTitle() || this._getContent()\n  }\n\n\n  addAttachmentClass(attachment) {\n    // popoverのCLASS_PREFIXが使われるようにする\n    $(this.getTipElement()).addClass(`${CLASS_PREFIX}-${attachment}`)\n  }\n\n  getTipElement() {\n    // ここで、オーバライドしているのはpopoverの$(this.config.template)[0]を使うため\n    this.tip = this.tip || $(this.config.template)[0]\n    return this.tip\n  }\n\n  setContent() {\n    // tipのelementを取得する\n    const $tip = $(this.getTipElement())\n\n    // jsイベントを維持するために、htmlにappendを使用する\n    // .popover-headerと['data-original-title']属性のタイトルが引数\n    // .popover-headerにthis.getTitle()で取得したテキストを設定する\n    this.setElementContent($tip.find(Selector.TITLE), this.getTitle())\n    // ['data-content']属性の値を取得\n    let content = this._getContent()\n    // コンテンツがfunctionの場合\n    if (typeof content === 'function') {\n      // this.elementに対してcontent関数を実行し、その結果をコンテンツに格納する\n      content = content.call(this.element)\n    }\n    // .popover-bodyに対して、contentのテキストを設定する\n    this.setElementContent($tip.find(Selector.CONTENT), content)\n\n    // tipのfadeクラスとshowクラスを削除する\n    $tip.removeClass(`${ClassName.FADE} ${ClassName.SHOW}`)\n  }\n\n  // Private\n\n  _getContent() {\n    // ['data-content']属性が存在していた場合は、その値を返す\n    // 存在しなかった場合はconfig.contentを返す\n    return this.element.getAttribute('data-content') ||\n      this.config.content\n  }\n\n  _cleanTipClass() {\n    // tipの要素を取得\n    const $tip = $(this.getTipElement())\n    // tipに.sc-popoverに関連クラスがあるか確認する\n    const tabClass = $tip.attr('class').match(SCCLS_PREFIX_REGEX)\n    // tabClassが存在していて、tabClassの長さが0以上の場合\n    if (tabClass !== null && tabClass.length > 0) {\n      // TabClassに該当するクラスを全て削除する\n      $tip.removeClass(tabClass.join(''))\n    }\n  }\n\n  // Static\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      // thisはdata-toggle=\"popover\"を持った要素\n      // その要素から、DATA_KEYの値を取得する\n      let data = $(this).data(DATA_KEY)\n      // configがibjectなら、_configに代入する\n      // オブジェクトじゃないならnullを代入する\n      const _config = typeof config === 'object' ? config : null\n\n      // dataが存在していなくて、disposeとhideがconfigに含まれている場合\n      if (!data && /dispose|hide/.test(config)) {\n        return\n      }\n\n      // dataが存在しない場合\n      if (!data) {\n        // dataをインスタンス化する\n        // thisはdata-toggle=\"popover\"を持った要素\n        // _configはobjectかnull\n        data = new Popover(this, _config)\n        // popover要素にDATA_KEY名でPopoverのインスタンスを設定する\n        $(this).data(DATA_KEY, data)\n      }\n\n      // dataがあった場合\n      // configがstringの場合\n      if (typeof config === 'string') {\n        // Popoverにconfigと同じ名前のメソッドがあるか判定する\n        if (typeof data[config] === 'undefined') {\n          // 存在しない場合は、エラー\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n        // 存在した場合は実行する\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Popover._jQueryInterface\n$.fn[NAME].Constructor = Popover\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Popover._jQueryInterface\n}\n\nexport default Popover\n"],"names":["TRANSITION_END","MAX_UID","MILLISECONDS_MULTIPLIER","toType","obj","toString","call","match","toLowerCase","getSpecialTransitionEndEvent","bindType","delegateType","handle","event","$","target","is","handleObj","handler","apply","arguments","undefined","transitionEndEmulator","duration","called","one","Util","setTimeout","triggerTransitionEnd","setTransitionEndSupport","fn","emulateTransitionEnd","special","getUID","prefix","Math","random","document","getElementById","getSelectorFromElement","element","selector","getAttribute","hrefAttr","trim","querySelector","err","getTransitionDurationFromElement","transitionDuration","css","transitionDelay","floatTransitionDuration","parseFloat","floatTransitionDelay","split","reflow","offsetHeight","trigger","supportsTransitionEnd","Boolean","isElement","nodeType","typeCheckConfig","componentName","config","configTypes","property","Object","prototype","hasOwnProperty","expectedTypes","value","valueType","RegExp","test","Error","toUpperCase","findShadowRoot","documentElement","attachShadow","getRootNode","root","ShadowRoot","parentNode","jQueryDetection","TypeError","version","jquery","minMajor","ltMajor","minMinor","minPatch","maxMajor","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","Selector","DISMISS","Event","CLOSE","CLOSED","CLICK_DATA_API","ClassName","ALERT","FADE","SHOW","Alert","_element","close","rootElement","_getRootElement","customEvent","_triggerCloseEvent","isDefaultPrevented","_removeElement","dispose","removeData","parent","closest","closeEvent","removeClass","hasClass","_destroyElement","detach","remove","_jQueryInterface","each","$element","data","_handleDismiss","alertInstance","preventDefault","on","Constructor","noConflict","ACTIVE","BUTTON","FOCUS","DATA_TOGGLE_CARROT","DATA_TOGGLES","DATA_TOGGLE","DATA_TOGGLES_BUTTONS","INPUT","FOCUS_BLUR_DATA_API","LOAD_DATA_API","Button","toggle","triggerChangeEvent","addAriaPressed","input","type","checked","classList","contains","activeElement","tagName","focus","hasAttribute","setAttribute","toggleClass","button","inputBtn","window","buttons","slice","querySelectorAll","i","len","length","add","Default","DefaultType","SHOWN","HIDE","HIDDEN","COLLAPSE","COLLAPSING","COLLAPSED","Dimension","WIDTH","HEIGHT","ACTIVES","Collapse","_isTransitioning","_config","_getConfig","_triggerArray","id","toggleList","elem","filterElement","filter","foundElem","_selector","push","_parent","_getParent","_addAriaAndCollapsedClass","hide","show","actives","activesData","not","startEvent","dimension","_getDimension","addClass","style","attr","setTransitioning","complete","capitalizedDimension","scrollSize","getBoundingClientRect","triggerArrayLength","$elem","isTransitioning","hasWidth","children","_getTargetFromElement","triggerArray","isOpen","$this","currentTarget","$trigger","selectors","$target","ESCAPE_KEYCODE","SPACE_KEYCODE","TAB_KEYCODE","ARROW_UP_KEYCODE","ARROW_DOWN_KEYCODE","RIGHT_MOUSE_BUTTON_WHICH","REGEXP_KEYDOWN","CLICK","KEYDOWN_DATA_API","KEYUP_DATA_API","DISABLED","DROPUP","DROPRIGHT","DROPLEFT","MENURIGHT","MENULEFT","POSITION_STATIC","FORM_CHILD","MENU","NAVBAR_NAV","VISIBLE_ITEMS","AttachmentMap","TOP","TOPEND","BOTTOM","BOTTOMEND","RIGHT","RIGHTEND","LEFT","LEFTEND","offset","flip","boundary","reference","display","popperConfig","Dropdown","_popper","_menu","_getMenuElement","_inNavbar","_detectNavbar","_addEventListeners","disabled","isActive","_clearMenus","usePopper","relatedTarget","showEvent","_getParentFromElement","Popper","referenceElement","_getPopperConfig","body","noop","hideEvent","destroy","off","update","scheduleUpdate","stopPropagation","constructor","_getPlacement","$parentDropdown","placement","_getOffset","offsets","modifiers","enabled","preventOverflow","boundariesElement","applyStyle","which","toggles","context","clickEvent","dropdownMenu","_dataApiKeydownHandler","items","item","index","indexOf","e","uriAttrs","ARIA_ATTRIBUTE_PATTERN","DefaultWhitelist","a","area","b","br","col","code","div","em","hr","h1","h2","h3","h4","h5","h6","img","li","ol","p","pre","s","small","span","sub","sup","strong","u","ul","SAFE_URL_PATTERN","DATA_URL_PATTERN","allowedAttribute","allowedAttributeList","attrName","nodeName","nodeValue","regExp","attrRegex","l","sanitizeHtml","unsafeHtml","whiteList","sanitizeFn","domParser","DOMParser","createdDocument","parseFromString","whitelistKeys","keys","elements","el","elName","removeChild","attributeList","attributes","whitelistedAttributes","concat","forEach","removeAttribute","innerHTML","CLASS_PREFIX","SCCLS_PREFIX_REGEX","DISALLOWED_ATTRIBUTES","animation","template","title","delay","html","container","fallbackPlacement","sanitize","AUTO","HoverState","OUT","INSERTED","FOCUSIN","FOCUSOUT","MOUSEENTER","MOUSELEAVE","TOOLTIP","TOOLTIP_INNER","ARROW","Trigger","HOVER","MANUAL","Tooltip","_isEnabled","_timeout","_hoverState","_activeTrigger","tip","_setListeners","enable","disable","toggleEnabled","dataKey","_getDelegateConfig","click","_isWithActiveTrigger","_enter","_leave","getTipElement","clearTimeout","_hideModalHandler","isWithContent","shadowRoot","isInTheDom","ownerDocument","tipId","setContent","attachment","_getAttachment","addAttachmentClass","_getContainer","appendTo","_fixTransition","prevHoverState","callback","_cleanTipClass","getTitle","setElementContent","content","empty","append","text","defaultScConfig","behavior","arrow","onCreate","originalPlacement","_handlePopperPlacementChange","onUpdate","find","triggers","eventIn","eventOut","_fixTitle","titleType","dataAttributes","dataAttr","key","$tip","tabClass","join","popperData","popperInstance","instance","popper","initConfigAnimation","TITLE","CONTENT","Popover","_getContent"],"mappings":"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"}